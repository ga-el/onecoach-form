---
// Import MultipleEmpresarial component
import MultipleEmpresarial from '../components/forms/MultipleEmpresarial.astro';

// Page configuration
const pageTitle = 'MULTIPLE EMPRESARIAL';
const pageDescription = 'Formulario inteligente de solicitud';

// Get current year for footer
const currentYear = new Date().getFullYear();
---

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{pageTitle}</title>
    <meta name="description" content={pageDescription}>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    
    <style>
        :root {
            --primary: linear-gradient(135deg, #002366 0%, #003d82 100%);
            --primary-solid: #002366;
            --primary-light: #f0f4ff;
            --primary-accent: #3b82f6;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            --background-card: rgba(255, 255, 255, 0.9);
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
            --border-focus: #3b82f6;
            --shadow: 0 4px 20px rgba(0, 35, 102, 0.1);
            --shadow-hover: 0 8px 35px rgba(0, 35, 102, 0.15);
            --radius: 12px;
            --radius-lg: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
        }
        
        /* Dark Theme Variables */
        body.dark-theme {
            --primary: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            --primary-solid: #1e40af;
            --primary-light: rgba(59, 130, 246, 0.1);
            --primary-accent: #60a5fa;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            --background-card: rgba(30, 41, 59, 0.9);
            --text: #f1f5f9;
            --text-light: #94a3b8;
            --border: #374151;
            --border-focus: #60a5fa;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            --shadow-hover: 0 8px 35px rgba(0, 0, 0, 0.4);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--background);
            min-height: 100vh;
            position: relative;
        }
        
        /* Hero Header */
        .hero-header {
            background: var(--primary);
            color: white;
            padding: 3rem 2rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 200" fill="rgba(255,255,255,0.1)"><path d="M0,50 Q250,0 500,50 T1000,50 L1000,200 L0,200 Z"/></svg>');
            background-size: cover;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            letter-spacing: -0.025em;
            animation: slideInUp 0.8s ease-out;
        }
        
        .hero-subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            font-weight: 300;
            margin-bottom: 2rem;
            animation: slideInUp 0.8s ease-out 0.2s both;
        }
        
        .progress-container {
            max-width: 600px;
            margin: 0 auto;
            animation: slideInUp 0.8s ease-out 0.4s both;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #3b82f6);
            width: 5%;
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            font-size: 0.875rem;
            opacity: 0.8;
        }
        
        /* Main Container */
        .main-container {
            max-width: 1000px;
            margin: -1rem auto 0;
            padding: 2rem;
            position: relative;
            z-index: 2;
        }
        
        /* Form Wizard */
        .form-wizard {
            background: var(--background-card);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
            backdrop-filter: blur(10px);
            animation: slideInUp 0.8s ease-out 0.6s both;
        }
        
        .wizard-nav {
            display: flex;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-bottom: 1px solid var(--border);
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .wizard-nav::-webkit-scrollbar {
            display: none;
        }
        
        .nav-step {
            flex: 1;
            min-width: 120px;
            padding: 1.5rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border-right: 1px solid var(--border);
            position: relative;
        }
        
        .nav-step:last-child {
            border-right: none;
        }
        
        .nav-step.active {
            background: var(--primary-light);
            color: var(--primary-solid);
        }
        
        .nav-step.completed {
            background: #dcfce7;
            color: var(--success);
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--border);
            color: var(--text-light);
            font-weight: 600;
            margin-bottom: 0.5rem;
            transition: var(--transition);
        }
        
        .nav-step.active .step-number {
            background: var(--primary-solid);
            color: white;
        }
        
        .nav-step.completed .step-number {
            background: var(--success);
            color: white;
        }
        
        .step-title {
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        /* Form Step */
        .form-step {
            padding: 3rem;
            display: none;
            animation: fadeInRight 0.5s ease-out;
        }
        
        .form-step.active {
            display: block;
        }
        
        .step-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .step-title-main {
            font-size: 1.875rem;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        
        .step-description {
            color: var(--text-light);
            font-size: 1.125rem;
        }
        
        /* Smart Form Groups */
        .smart-grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .grid-1 { grid-template-columns: 1fr; }
        .grid-2 { grid-template-columns: repeat(2, 1fr); }
        .grid-3 { grid-template-columns: repeat(3, 1fr); }
        
        @media (max-width: 768px) {
            .grid-2, .grid-3 { grid-template-columns: 1fr; }
        }
        
        .field-group {
            position: relative;
        }
        
        .field-label {
            display: block;
            font-weight: 500;
            color: var(--text);
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        
        .required {
            color: var(--error);
        }
        
        /* Enhanced Inputs */
        .smart-input {
            width: 100%;
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background: white;
        }
        
        .smart-input:focus {
            outline: none;
            border-color: var(--border-focus);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }
        
        .smart-input:valid {
            border-color: var(--success);
        }
        
        /* Smart Select */
        .smart-select {
            position: relative;
        }
        
        .smart-select select {
            appearance: none;
            background: white url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23002366"><path d="M7 10l5 5 5-5z"/></svg>') no-repeat right 1rem center;
            background-size: 20px;
            cursor: pointer;
        }
        
        /* Checkbox and Radio Groups */
        .option-group {
            display: grid;
            gap: 0.75rem;
            margin-top: 0.5rem;
        }
        
        .option-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .option-item:hover {
            border-color: var(--border-focus);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .option-item input[type="checkbox"],
        .option-item input[type="radio"] {
            width: 18px;
            height: 18px;
            margin-right: 0.75rem;
            accent-color: var(--primary-solid);
        }
        
        .option-item.checked {
            border-color: var(--primary-solid);
            background: var(--primary-light);
        }
        
        /* File Upload */
        .file-upload {
            border: 2px dashed var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            text-align: center;
            background: #fafafa;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .file-upload:hover {
            border-color: var(--border-focus);
            background: var(--primary-light);
        }
        
        .file-upload.dragover {
            border-color: var(--primary-solid);
            background: var(--primary-light);
            transform: scale(1.02);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--text-light);
            margin-bottom: 1rem;
        }
        
        .upload-text {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }
        
        .upload-hint {
            font-size: 0.875rem;
            color: var(--text-light);
        }
        
        /* Navigation Buttons */
        .step-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
        }
        
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }
        
        .btn-secondary {
            background: white;
            color: var(--text);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover {
            background: #f8fafc;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* Auto-complete and suggestions */
        .suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 var(--radius) var(--radius);
            max-height: 200px;
            overflow-y: auto;
            z-index: 10;
            display: none;
        }
        
        .suggestion-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .suggestion-item:hover {
            background: var(--primary-light);
        }
        
        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translate3d(0,0,0);
            }
            40%, 43% {
                transform: translate3d(0, -8px, 0);
            }
            70% {
                transform: translate3d(0, -4px, 0);
            }
            90% {
                transform: translate3d(0, -2px, 0);
            }
        }
        
        /* Smart tips */
        .smart-tip {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border: 1px solid #93c5fd;
            border-radius: var(--radius);
            padding: 1rem;
            margin: 1rem 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .tip-icon {
            color: var(--primary-solid);
        }
        
        /* Final Submit Section */
        .submit-section {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border: 1px solid #86efac;
            border-radius: var(--radius-lg);
            padding: 3rem;
            text-align: center;
            margin-top: 2rem;
        }
        
        .submit-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 1rem;
        }
        
        .submit-description {
            color: var(--text-light);
            margin-bottom: 2rem;
        }
        
        .btn-submit {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            color: white;
            padding: 1.25rem 3rem;
            font-size: 1.125rem;
            font-weight: 600;
        }
        
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 40px rgba(16, 185, 129, 0.3);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .main-container {
                padding: 1rem;
            }
            
            .form-step {
                padding: 2rem 1.5rem;
            }
            
            .step-title-main {
                font-size: 1.5rem;
            }
            
            .wizard-nav {
                flex-wrap: wrap;
            }
            
            .nav-step {
                min-width: 100px;
                padding: 1rem 0.5rem;
            }
        }
        
        /* Hide original form initially */
        .original-form {
            display: none;
        }
        
        /* Mejoras visuales adicionales */
        .nav-step.accessible {
            cursor: pointer;
        }
        
        .nav-step:not(.accessible) {
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .smart-input.loading {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Efectos de hover mejorados */
        .option-item:hover {
            border-color: var(--border-focus);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .option-item.checked {
            border-color: var(--primary-solid);
            background: var(--primary-light);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }

		/* --- A√±ade esto dentro de tu etiqueta <style> --- */

/* Estilo para el contenedor del campo con error */
.field-group.has-error .smart-input {
    border-color: var(--error);
    background-color: #fff5f5; /* Un fondo rosado muy claro */
    animation: shake 0.5s;
}

/* Tambi√©n cambia el color de la etiqueta para que coincida */
.field-group.has-error .field-label {
    color: var(--error);
    font-weight: 600;
}
F
body.dark-theme .field-group.has-error .smart-input {
    background-color: rgba(239, 68, 68, 0.1); /* Fondo rojo oscuro transparente */
}

/* Animaci√≥n de "temblor" para llamar la atenci√≥n */
@keyframes shake {
    10%, 90% { transform: translateX(-1px); }
    20%, 80% { transform: translateX(2px); }
    30%, 50%, 70% { transform: translateX(-4px); }
    40%, 60% { transform: translateX(4px); }
}
        
        /* Indicadores visuales mejorados */
        .field-group.completed::after {
            content: '‚úì';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--success);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        /* Animaciones de transici√≥n */
        .form-step {
            transition: all 0.4s cubic-bezier(0.4, 0.0, 0.2, 1);
        }
        
        /* Mejoras para campos requeridos */
        .smart-input[required]:focus {
            border-left: 4px solid var(--primary-accent);
        }
        
        .smart-input[required]:valid {
            border-left: 4px solid var(--success);
        }
        
        .smart-input[required]:invalid {
            border-left: 4px solid var(--error);
        }
        
        /* Dark mode toggle - MEJORADO */
        .theme-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--background-card);
            border: 2px solid var(--border);
            border-radius: 50px;
            padding: 0.75rem;
            cursor: pointer;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
            font-size: 1.2rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary-accent);
        }
        
        /* Dark theme styles - COMPLETO */
        body.dark-theme {
            color: var(--text);
            transition: var(--transition);
        }
        
        body.dark-theme .smart-input {
            background: rgba(30, 41, 59, 0.8);
            color: var(--text);
            border-color: var(--border);
        }
        
        body.dark-theme .smart-input:focus {
            background: rgba(30, 41, 59, 1);
            border-color: var(--border-focus);
        }
        
        body.dark-theme .option-item {
            background: rgba(30, 41, 59, 0.8);
            border-color: var(--border);
            color: var(--text);
        }
        
        body.dark-theme .option-item:hover {
            background: rgba(59, 130, 246, 0.1);
        }
        
        body.dark-theme .file-upload {
            background: rgba(30, 41, 59, 0.5);
            border-color: var(--border);
            color: var(--text);
        }
        
        body.dark-theme .file-upload:hover {
            background: var(--primary-light);
            border-color: var(--border-focus);
        }
        
        body.dark-theme .wizard-nav {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.9) 0%, rgba(15, 23, 42, 0.9) 100%);
        }
        
        body.dark-theme .nav-step {
            color: var(--text);
        }
        
        body.dark-theme .nav-step:hover:not(.active) {
            background: rgba(59, 130, 246, 0.1);
        }
        
        body.dark-theme .hero-header {
            background: var(--primary);
        }
        
        body.dark-theme .submit-section {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%);
            border-color: rgba(16, 185, 129, 0.3);
        }
        
        body.dark-theme .smart-tip {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(30, 64, 175, 0.1) 100%);
            border-color: rgba(59, 130, 246, 0.3);
        }
        
        body.dark-theme .btn-secondary {
            background: rgba(30, 41, 59, 0.9);
            color: var(--text);
            border-color: var(--border);
        }
        
        body.dark-theme .btn-secondary:hover {
            background: rgba(59, 130, 246, 0.1);
        }
        
        body.dark-theme .field-label {
            color: var(--text);
        }
        
        body.dark-theme .step-description {
            color: var(--text-light);
        }
        
        /* Indicador de tiempo estimado */
        .time-estimate {
            position: absolute;
            top: -30px;
            right: 0;
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary-solid);
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .step-header {
            position: relative;
        }
    </style>
</head>
<body>
    <!-- Header con estilo Hero moderno -->
    <!-- Tema toggle button -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Alternar tema">
        <span id="theme-icon">üåô</span>
    </button>
    
    <header class="hero-header">
        <div class="hero-content">
            <h1 class="hero-title">{pageTitle}</h1>
            <p class="hero-subtitle">{pageDescription}</p>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <p class="progress-text"><span id="progress-percent">17</span>% completado - <span id="current-section-name">Informaci√≥n B√°sica</span></p>
            </div>
        </div>
    </header>
    
    <main class="main-container">
        <!-- Nueva interfaz con formato wizard -->
        <div class="form-wizard">
            <!-- Navegaci√≥n superior del wizard -->
            <nav class="wizard-nav">
                <div class="nav-step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-title">Informaci√≥n B√°sica</div>
                </div>
                <div class="nav-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-title">Ubicaci√≥n de Riesgo</div>
                </div>
                <div class="nav-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-title">Caracter√≠sticas</div>
                </div>
                <div class="nav-step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-title">Seguridad</div>
                </div>
                <div class="nav-step" data-step="5">
                    <div class="step-number">5</div>
                    <div class="step-title">Coberturas</div>
                </div>
                <div class="nav-step" data-step="6">
                    <div class="step-number">6</div>
                    <div class="step-title">Finalizar</div>
                </div>
            </nav>
            
            <!-- PASO 1: Informaci√≥n B√°sica -->
            <form id="wizard-form">
                <div class="form-step active" id="step-1">
                    <div class="step-header">
                        <div class="time-estimate">‚è±Ô∏è 2-3 min</div>
                        <h2 class="step-title-main">Datos Fiscales del Cliente</h2>
                        <p class="step-description">Informaci√≥n b√°sica de la empresa y contacto</p>
                    </div>
                    
                    <div class="smart-grid grid-2">
                        <div class="field-group">
                            <label class="field-label" for="rfc">RFC <span class="required">*</span></label>
                            <input type="text" id="rfc" name="rfc" class="smart-input" placeholder="Ingrese el RFC" required>
                        </div>
                        <div class="field-group">
                            <label class="field-label" for="razon-social">Raz√≥n Social <span class="required">*</span></label>
                            <input type="text" id="razon-social" name="razon_social" class="smart-input" placeholder="Ingrese la raz√≥n social" required>
                        </div>
                    </div>
                    
                    <div class="smart-grid grid-2">
                        <div class="field-group">
                            <label class="field-label" for="cp">C√≥digo Postal <span class="required">*</span></label>
                            <input type="text" id="cp" name="cp" class="smart-input" placeholder="00000" pattern="[0-9]{5}" maxlength="5" required>
                        </div>
                        <div class="field-group">
                            <label class="field-label" for="estado">Estado</label>
                            <div class="smart-select">
                                <select id="estado" name="estado" class="smart-input">
                                    <option value="">Autodetecci√≥n por CP</option>
                                    <option value="Ciudad de M√©xico">Ciudad de M√©xico</option>
                                    <option value="Estado de M√©xico">Estado de M√©xico</option>
                                    <option value="Jalisco">Jalisco</option>
                                    <option value="Nuevo Le√≥n">Nuevo Le√≥n</option>
                                    <option value="Sinaloa">Sinaloa</option>
                                    <option value="Aguascalientes">Aguascalientes</option>
                                    <option value="Baja California">Baja California</option>
                                    <option value="Quintana Roo">Quintana Roo</option>
                                    <option value="Guanajuato">Guanajuato</option>
                                    <option value="San Luis Potos√≠">San Luis Potos√≠</option>
                                    <option value="Chiapas">Chiapas</option>
                                    <option value="Morelos">Morelos</option>
                                    <option value="Veracruz">Veracruz</option>
                                    <option value="Yucat√°n">Yucat√°n</option>
                                    <option value="Chihuahua">Chihuahua</option>
                                    <option value="Sonora">Sonora</option>
                                    <option value="Coahuila">Coahuila</option>
                                    <option value="Durango">Durango</option>
                                    <option value="Tamaulipas">Tamaulipas</option>
                                    <option value="Puebla">Puebla</option>
                                    <option value="Hidalgo">Hidalgo</option>
                                    <option value="Michoac√°n">Michoac√°n</option>
                                    <option value="Oaxaca">Oaxaca</option>
                                    <option value="Tabasco">Tabasco</option>
                                    <option value="Campeche">Campeche</option>
                                    <option value="Guerrero">Guerrero</option>
                                    <option value="Tlaxcala">Tlaxcala</option>
                                    <option value="Nayarit">Nayarit</option>
                                    <option value="Colima">Colima</option>
                                    <option value="Zacatecas">Zacatecas</option>
                                    <option value="Quer√©taro">Quer√©taro</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="smart-grid grid-2">
                        <div class="field-group">
                            <label class="field-label" for="telefono">Tel√©fono <span class="required">*</span></label>
                            <input type="tel" id="telefono" name="telefono" class="smart-input" placeholder="(55) 1234-5678" required>
                        </div>
                        <div class="field-group">
                            <label class="field-label" for="correo">Correo Electr√≥nico <span class="required">*</span></label>
                            <input type="email" id="correo" name="correo" class="smart-input" placeholder="ejemplo@empresa.com" required>
                        </div>
                    </div>
                    
                    <div class="smart-tip">
                        <span class="tip-icon">üí°</span>
                        <span>Al ingresar el c√≥digo postal, autocompletaremos informaci√≥n como estado y municipio para acelerar el proceso.</span>
                    </div>
                    
                    <div class="step-navigation">
                        <div></div>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Siguiente <span>‚Üí</span></button>
                    </div>
                </div>
                
                <!-- PASO 2: Ubicaci√≥n del Domicilio de Riesgo -->
                <div class="form-step" id="step-2">
                    <div class="step-header">
                        <div class="time-estimate">‚è±Ô∏è 1-2 min</div>
                        <h2 class="step-title-main">Ubicaci√≥n del Domicilio de Riesgo</h2>
                        <p class="step-description">Especifica d√≥nde se encuentra el inmueble a asegurar</p>
                    </div>
                    
                    <div class="option-group">
                        <div class="option-item" onclick="toggleOption(this, 'same-address')">
                            <input type="checkbox" id="same-address" name="same_address">
                            <label for="same-address">La ubicaci√≥n de riesgo es la misma que la direcci√≥n fiscal</label>
                        </div>
                    </div>
                    
                    <div id="risk-address-fields" class="smart-grid grid-2">
                        <div class="field-group">
                            <label class="field-label" for="cp-riesgo">C√≥digo Postal <span class="required">*</span></label>
                            <input type="text" id="cp-riesgo" name="cp_riesgo" class="smart-input" placeholder="00000" pattern="[0-9]{5}" maxlength="5">
                        </div>
                        <div class="field-group">
                            <label class="field-label" for="calle-riesgo">Calle <span class="required">*</span></label>
                            <input type="text" id="calle-riesgo" name="calle_riesgo" class="smart-input" placeholder="Nombre de la calle">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label" for="numero-riesgo">N√∫mero <span class="required">*</span></label>
                            <input type="text" id="numero-riesgo" name="numero_riesgo" class="smart-input" placeholder="N√∫mero exterior">
                        </div>
                        <div class="field-group">
                            <label class="field-label" for="colonia-riesgo">Colonia</label>
                            <input type="text" id="colonia-riesgo" name="colonia_riesgo" class="smart-input" placeholder="Nombre de la colonia">
                        </div>
                        
                        <div class="field-group">
                            <label class="field-label" for="entre-calles">Entre Calles</label>
                            <input type="text" id="entre-calles" name="entre_calles" class="smart-input" placeholder="Entre qu√© calles se encuentra">
                        </div>
                        <div class="field-group">
                            <label class="field-label" for="referencias">Referencias</label>
                            <input type="text" id="referencias" name="referencias" class="smart-input" placeholder="Referencias adicionales">
                        </div>
                    </div>
                    
                    <div class="step-navigation">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()"><span>‚Üê</span> Anterior</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Siguiente <span>‚Üí</span></button>
                    </div>
                </div>
                
                <!-- PASO 3: Caracter√≠sticas del Edificio -->
                <div class="form-step" id="step-3">
                    <div class="step-header">
                        <div class="time-estimate">‚è±Ô∏è 3-4 min</div>
                        <h2 class="step-title-main">Caracter√≠sticas Constructivas</h2>
                        <p class="step-description">Informaci√≥n sobre la construcci√≥n y medidas b√°sicas de seguridad</p>
                    </div>
                    
                    <div class="smart-grid grid-3">
                        <div class="field-group">
                            <label class="field-label">A√±o de Construcci√≥n <span class="required">*</span></label>
                            <input type="number" id="anio-construccion" name="anio_construccion" class="smart-input" placeholder="2020" min="1900" max="2025">
                        </div>
                        <div class="field-group">
                            <label class="field-label">N√∫mero de Niveles</label>
                            <input type="number" id="niveles" name="niveles" class="smart-input" placeholder="1" min="1" max="50">
                        </div>
                        <div class="field-group">
                            <label class="field-label">Uso del Inmueble <span class="required">*</span></label>
                            <div class="smart-select">
                                <select id="uso-inmueble" name="uso_inmueble" class="smart-input">
                                    <option value="">Seleccione una opci√≥n</option>
                                    <option value="Comercial">Comercial</option>
                                    <option value="Industrial">Industrial</option>
                                    <option value="Oficinas">Oficinas</option>
                                    <option value="Residencial">Residencial</option>
                                    <option value="Almac√©n">Almac√©n</option>
                                    <option value="Mixto">Mixto</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="smart-grid grid-2">
                        <div class="field-group">
                            <label class="field-label">Superficie del Terreno (m¬≤)</label>
                            <input type="number" id="superficie-terreno" name="superficie_terreno" class="smart-input" placeholder="0.00" step="0.01">
                        </div>
                        <div class="field-group">
                            <label class="field-label">Superficie Construida (m¬≤)</label>
                            <input type="number" id="superficie-construida" name="superficie_construida" class="smart-input" placeholder="0.00" step="0.01">
                        </div>
                    </div>
                    
                    <div class="field-group">
                        <label class="field-label">Tipo de Construcci√≥n <span class="required">*</span></label>
                        <div class="option-group">
                            <div class="option-item" onclick="selectRadio(this, 'tipo_construccion', 'A')">
                                <input type="radio" id="tipo-a" name="tipo_construccion" value="A">
                                <div>
                                    <strong>Tipo A</strong><br>
                                    <small>Estructura de concreto, muros de tabique, techos de concreto</small>
                                </div>
                            </div>
                            <div class="option-item" onclick="selectRadio(this, 'tipo_construccion', 'B')">
                                <input type="radio" id="tipo-b" name="tipo_construccion" value="B">
                                <div>
                                    <strong>Tipo B</strong><br>
                                    <small>Estructura de acero, muros de tabique, techos de l√°mina</small>
                                </div>
                            </div>
                            <div class="option-item" onclick="selectRadio(this, 'tipo_construccion', 'C')">
                                <input type="radio" id="tipo-c" name="tipo_construccion" value="C">
                                <div>
                                    <strong>Tipo C</strong><br>
                                    <small>Estructura de madera, muros de madera, techos de madera</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-navigation">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()"><span>‚Üê</span> Anterior</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Siguiente <span>‚Üí</span></button>
                    </div>
                </div>
                
                <!-- PASO 4: Medidas de Seguridad -->
                <div class="form-step" id="step-4">
                    <div class="step-header">
                        <div class="time-estimate">‚è±Ô∏è 2-3 min</div>
                        <h2 class="step-title-main">Medidas de Seguridad</h2>
                        <p class="step-description">Selecciona las medidas de seguridad con las que cuenta el inmueble</p>
                    </div>
                    
                    <div class="field-group">
                        <label class="field-label">Sistemas de Seguridad contra Incendio</label>
                        <div class="option-group">
                            <div class="option-item" onclick="toggleOption(this, 'sistema_extintores')">
                                <input type="checkbox" id="sistema_extintores" name="sistema_extintores" value="S√≠">
                                <div>
                                    <strong>Sistema de Extintores</strong><br>
                                    <small>Equipos port√°tiles contra incendios</small>
                                </div>
                            </div>
                            <div class="option-item" onclick="toggleOption(this, 'sistema_hidrantes')">
                                <input type="checkbox" id="sistema_hidrantes" name="sistema_hidrantes" value="S√≠">
                                <div>
                                    <strong>Sistema de Hidrantes</strong><br>
                                    <small>Red fija de agua contra incendios</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="field-group">
                        <label class="field-label">Sistemas de Alarma y Detecci√≥n</label>
                        <div class="option-group">
                            <div class="option-item" onclick="toggleOption(this, 'alarma_robo')">
                                <input type="checkbox" id="alarma_robo" name="alarma_robo" value="S√≠">
                                <div>
                                    <strong>Alarma de Robo</strong><br>
                                    <small>Sistema de detecci√≥n de intrusos</small>
                                </div>
                            </div>
                            <div class="option-item" onclick="toggleOption(this, 'alarma_incendio')">
                                <input type="checkbox" id="alarma_incendio" name="alarma_incendio" value="S√≠">
                                <div>
                                    <strong>Alarma de Incendio</strong><br>
                                    <small>Sistema de detecci√≥n de humo/fuego</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="field-group">
                        <label class="field-label">Medidas de Seguridad F√≠sica</label>
                        <div class="option-group">
                            <div class="option-item" onclick="toggleOption(this, 'vigilancia')">
                                <input type="checkbox" id="vigilancia" name="vigilancia" value="S√≠">
                                <div>
                                    <strong>Vigilancia</strong><br>
                                    <small>Servicio de seguridad privada</small>
                                </div>
                            </div>
                            <div class="option-item" onclick="toggleOption(this, 'cercado')">
                                <input type="checkbox" id="cercado" name="cercado" value="S√≠">
                                <div>
                                    <strong>Cercado Perimetral</strong><br>
                                    <small>Bardas, rejas o muros perimetrales</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-navigation">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()"><span>‚Üê</span> Anterior</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Siguiente <span>‚Üí</span></button>
                    </div>
                </div>
                
                <!-- PASO 5: Coberturas -->
                <div class="form-step" id="step-5">
                    <div class="step-header">
                        <div class="time-estimate">‚è±Ô∏è 2-3 min</div>
                        <h2 class="step-title-main">Coberturas de Seguro</h2>
                        <p class="step-description">Configura las coberturas y montos asegurados</p>
                    </div>
                    
                    <div class="smart-grid grid-2">
                        <div class="field-group">
                            <label class="field-label">Suma Asegurada - Edificio</label>
                            <input type="text" id="suma_edificio" name="suma_edificio" class="smart-input" placeholder="$0.00">
                        </div>
                        <div class="field-group">
                            <label class="field-label">Suma Asegurada - Contenidos</label>
                            <input type="text" id="suma_contenidos" name="suma_contenidos" class="smart-input" placeholder="$0.00">
                        </div>
                    </div>
                    
                    <div class="field-group">
                        <label class="field-label">Coberturas Adicionales</label>
                        <div class="option-group">
                            <div class="option-item" onclick="toggleOption(this, 'cobertura_explosion')">
                                <input type="checkbox" id="cobertura_explosion" name="cobertura_explosion" value="S√≠">
                                <div><strong>Explosi√≥n</strong></div>
                            </div>
                            <div class="option-item" onclick="toggleOption(this, 'cobertura_huelgas')">
                                <input type="checkbox" id="cobertura_huelgas" name="cobertura_huelgas" value="S√≠">
                                <div><strong>Huelgas y Vandalismo</strong></div>
                            </div>
                            <div class="option-item" onclick="toggleOption(this, 'cobertura_terremoto')">
                                <input type="checkbox" id="cobertura_terremoto" name="cobertura_terremoto" value="S√≠">
                                <div><strong>Terremoto y Erupci√≥n Volc√°nica</strong></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-navigation">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()"><span>‚Üê</span> Anterior</button>
                        <button type="button" class="btn btn-primary" onclick="nextStep()">Finalizar <span>‚Üí</span></button>
                    </div>
                </div>
                
                <!-- PASO 6: Finalizar -->
                <div class="form-step" id="step-6">
                    <div class="submit-section">
                        <div class="time-estimate">‚è±Ô∏è 1 min</div>
                        <h2 class="submit-title">¬°Formulario Completado! üéâ</h2>
                        <p class="submit-description">Revisa la informaci√≥n y env√≠a tu solicitud de seguro empresarial.</p>
                        
                        <div class="smart-grid grid-2">
                            <div class="field-group">
                                <label class="field-label">Nombre del Asegurado <span class="required">*</span></label>
                                <input type="text" id="nombre_asegurado" name="nombre_asegurado" class="smart-input" placeholder="Nombre completo" required>
                            </div>
                            <div class="field-group">
                                <label class="field-label">Fecha de Solicitud</label>
                                <input type="date" id="fecha_firma" name="fecha_firma" class="smart-input">
                            </div>
                        </div>
                        
                        <div class="file-upload" ondrop="dropHandler(event)" ondragover="dragOverHandler(event)">
                            <div class="upload-icon">üìÅ</div>
                            <div class="upload-text">Subir Documentos Adicionales</div>
                            <div class="upload-hint">Arrastra archivos aqu√≠ o haz clic para seleccionar</div>
                            <input type="file" id="documentos" name="documentos" multiple style="display: none;">
                        </div>
                        
                        <button type="button" class="btn btn-submit" onclick="submitForm()">Enviar Solicitud</button>
                    </div>
                    
                    <div class="step-navigation">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()"><span>‚Üê</span> Anterior</button>
                        <div></div>
                    </div>
                </div>
            </form>
            
            <!-- Ocultar el componente original para reemplazarlo por el nuevo dise√±o -->
            <div class="original-form">
                <MultipleEmpresarial />
            
            <!-- Datos Fiscales del Cliente -->
            <div class="form-section">
                <h2 class="section-title">DATOS FISCALES DEL CLIENTE</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="rfc-old">RFC:</label>
                        <input type="text" id="rfc-old" name="rfc" class="form-input" placeholder="Ingrese el RFC">
                    </div>
                    <div class="form-group">
                        <label for="razon-social-old">RAZ√ìN SOCIAL:</label>
                        <input type="text" id="razon-social-old" name="razon_social" class="form-input" placeholder="Ingrese la raz√≥n social">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="cp-old">C.P.:</label>
                        <input type="text" id="cp-old" name="cp" class="form-input" placeholder="C√≥digo Postal">
                    </div>
                    <div class="form-group">
                        <label for="estado">ESTADO:</label>
                        <input type="text" id="estado" name="estado" class="form-input" placeholder="Estado">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="municipio">MUNICIPIO O ALCALD√çA:</label>
                        <input type="text" id="municipio" name="municipio" class="form-input" placeholder="Municipio o Alcald√≠a">
                    </div>
                    <div class="form-group">
                        <label for="colonia">COLONIA:</label>
                        <input type="text" id="colonia" name="colonia" class="form-input" placeholder="Colonia">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="calle">CALLE:</label>
                        <input type="text" id="calle" name="calle" class="form-input" placeholder="Calle">
                    </div>
                    <div class="form-group">
                        <label for="numero">N√öMERO:</label>
                        <input type="text" id="numero" name="numero" class="form-input" placeholder="N√∫mero">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="telefono">TEL√âFONO:</label>
                        <input type="tel" id="telefono" name="telefono" class="form-input" placeholder="Tel√©fono">
                    </div>
                    <div class="form-group">
                        <label for="correo">CORREO ELECTR√ìNICO:</label>
                        <input type="email" id="correo" name="correo" class="form-input" placeholder="Correo electr√≥nico">
                    </div>
                </div>
            </div>
            <!-- Fin de Datos Fiscales del Cliente -->

            <!-- Ubicaci√≥n del Domicilio de Riesgo -->
            <div class="form-section">
                <h2 class="section-title">UBICACI√ìN DEL DOMICILIO DE RIESGO</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="calle-riesgo">CALLE:</label>
                        <input type="text" id="calle-riesgo" name="calle_riesgo" class="form-input" placeholder="Calle">
                    </div>
                    <div class="form-group">
                        <label for="numero-riesgo">N√öMERO:</label>
                        <input type="text" id="numero-riesgo" name="numero_riesgo" class="form-input" placeholder="N√∫mero">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="colonia-riesgo">COLONIA:</label>
                        <input type="text" id="colonia-riesgo" name="colonia_riesgo" class="form-input" placeholder="Colonia">
                    </div>
                    <div class="form-group">
                        <label for="cp-riesgo">C.P.:</label>
                        <input type="text" id="cp-riesgo" name="cp_riesgo" class="form-input" placeholder="C√≥digo Postal">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="municipio-riesgo">MUNICIPIO O ALCALD√çA:</label>
                        <input type="text" id="municipio-riesgo" name="municipio_riesgo" class="form-input" placeholder="Municipio o Alcald√≠a">
                    </div>
                    <div class="form-group">
                        <label for="estado-riesgo">ESTADO:</label>
                        <input type="text" id="estado-riesgo" name="estado_riesgo" class="form-input" placeholder="Estado">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="entre-calles">ENTRE CALLES:</label>
                        <input type="text" id="entre-calles" name="entre_calles" class="form-input" placeholder="Entre calles">
                    </div>
                    <div class="form-group">
                        <label for="referencias">REFERENCIAS:</label>
                        <input type="text" id="referencias" name="referencias" class="form-input" placeholder="Referencias">
                    </div>
                </div>
            </div>
            <!-- Fin de Ubicaci√≥n del Domicilio de Riesgo -->

            <!-- Caracter√≠sticas Constructivas del Edificio y Medidas de Seguridad -->
            <div class="form-section">
                <h2 class="section-title">CARACTERISTICAS CONSTRUCTIVAS DEL EDIFICIO Y MEDIDAS DE SEGURIDAD</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>TIPO DE CONSTRUCCI√ìN:</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="tipo_construccion" value="A"> A
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="tipo_construccion" value="B"> B
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="tipo_construccion" value="C"> C
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="tipo_construccion" value="D"> D
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="anio-construccion">A√ëO DE CONSTRUCCI√ìN:</label>
                        <input type="number" id="anio-construccion" name="anio_construccion" class="form-input" placeholder="A√±o de construcci√≥n" min="1900" max="2025">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="superficie-terreno">SUPERFICIE DEL TERRENO (m2):</label>
                        <input type="number" id="superficie-terreno" name="superficie_terreno" class="form-input" placeholder="m¬≤" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="superficie-construida">SUPERFICIE CONSTRUIDA (m2):</label>
                        <input type="number" id="superficie-construida" name="superficie_construida" class="form-input" placeholder="m¬≤" step="0.01">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="niveles">NIVELES:</label>
                        <input type="number" id="niveles" name="niveles" class="form-input" placeholder="N√∫mero de niveles" min="1">
                    </div>
                    <div class="form-group">
                        <label>USO DEL INMUEBLE:</label>
                        <select id="uso-inmueble" name="uso_inmueble" class="form-input">
                            <option value="">Seleccione una opci√≥n</option>
                            <option value="Comercial">Comercial</option>
                            <option value="Industrial">Industrial</option>
                            <option value="Oficinas">Oficinas</option>
                            <option value="Residencial">Residencial</option>
                            <option value="Almac√©n">Almac√©n</option>
                            <option value="Mixto">Mixto</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="sistema_extintores" value="S√≠">
                            SISTEMA DE EXTINTORES
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="sistema_hidrantes" value="S√≠">
                            SISTEMA DE HIDRANTES
                        </label>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="alarma_robo" value="S√≠">
                            ALARMA DE ROBO
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="alarma_incendio" value="S√≠">
                            ALARMA DE INCENDIO
                        </label>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="vigilancia" value="S√≠">
                            VIGILANCIA
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="cercado" value="S√≠">
                            CERCADO
                        </label>
                    </div>
                </div>
            </div>
            <!-- Fin de Caracter√≠sticas Constructivas del Edificio y Medidas de Seguridad -->

            <!-- Medidas de Seguridad Contra Robo -->
            <div class="form-section">
                <h2 class="section-title">MEDIDAS DE SEGURIDAD CONTRA ROBO</h2>
                
                <!-- Medidas de Seguridad B√°sicas -->
                <div class="form-subsection">
                    <h3 class="subsection-title">1. Medidas de Seguridad B√°sicas</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="alarma_local" value="S√≠">
                                ALARMA LOCAL
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="alarma_central" value="S√≠">
                                ALARMA CENTRAL
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="domos_patios" value="S√≠">
                                DOMOS Y/O PATIOS
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Elementos de Seguridad F√≠sica -->
                <div class="form-subsection">
                    <h3 class="subsection-title">2. Elementos de Seguridad F√≠sica</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="caja_fuerte" value="S√≠">
                                CAJA FUERTE O BOVEDA
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="circuito_tv" value="S√≠">
                                CIRCUITO CDO. DE T.V.
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Exclusiones -->
                <div class="form-subsection">
                    <h3 class="subsection-title">3. Exclusiones</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="exclusiones">EXCLUSIONES:</label>
                            <input type="text" id="exclusiones" name="exclusiones" class="form-input" placeholder="Especifique exclusiones">
                        </div>
                    </div>
                </div>

                <!-- Vigilancia -->
                <div class="form-subsection">
                    <h3 class="subsection-title">4. Vigilancia</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="vigilancia_24hrs" value="S√≠">
                                24 HRS
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="vigilancia_armada" value="S√≠">
                                ARMADA
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rondines" value="S√≠">
                                RONDINES
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="tipo_vigilancia">TIPO:</label>
                            <input type="text" id="tipo_vigilancia" name="tipo_vigilancia" class="form-input" placeholder="Especifique tipo">
                        </div>
                    </div>
                </div>

                <!-- Puertas y Ventanas Protegidas -->
                <div class="form-subsection">
                    <h3 class="subsection-title">5. Puertas y Ventanas Protegidas</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="puertas_ventanas_protegidas" value="S√≠">
                                PUERTAS Y VENTANAS CON PROTECCI√ìN
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tipo_proteccion">TIPO:</label>
                            <input type="text" id="tipo_proteccion" name="tipo_proteccion" class="form-input" placeholder="Especifique tipo de protecci√≥n">
                        </div>
                    </div>
                </div>

                <!-- Recolecci√≥n de Dinero -->
                <div class="form-subsection">
                    <h3 class="subsection-title">6. Recolecci√≥n de Dinero</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="recoleccion_dinero" value="S√≠">
                                RECOLECCI√ìN DE DINERO
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="colindantes_sin_fincar" value="S√≠">
                                COLINDANTES SIN FINCAR
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tipo_recoleccion">TIPO:</label>
                            <input type="text" id="tipo_recoleccion" name="tipo_recoleccion" class="form-input" placeholder="Especifique tipo de recolecci√≥n">
                        </div>
                    </div>
                </div>

                <!-- Dep√≥sitos Bancarios -->
                <div class="form-subsection">
                    <h3 class="subsection-title">7. Dep√≥sitos Bancarios</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="depositos_bancarios" value="S√≠">
                                DEP√ìSITOS BANCARIOS
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="frecuencia_depositos">FRECUENCIA:</label>
                            <select id="frecuencia_depositos" name="frecuencia_depositos" class="form-input">
                                <option value="">Seleccione frecuencia</option>
                                <option value="Diario">Diario</option>
                                <option value="Semanal">Semanal</option>
                                <option value="Quincenal">Quincenal</option>
                                <option value="Mensual">Mensual</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="otra_informacion">OTRA (ESPECIFICAR):</label>
                            <input type="text" id="otra_informacion" name="otra_informacion" class="form-input" placeholder="Especifique">
                        </div>
                    </div>
                </div>

                <!-- Subida de Documentos -->
                <div class="form-subsection">
                    <h3 class="subsection-title">8. Subida de Documentos</h3>
                    <div class="form-row">
                        <div class="form-group full-width">
                            <p class="form-note">En caso de varias ubicaciones anexar relaci√≥n por separado</p>
                            <div class="file-upload">
                                <input type="file" id="documentos" name="documentos" class="file-input" multiple>
                                <label for="documentos" class="file-upload-label">
                                    <span>Haz clic o arrastra archivos aqu√≠ para subirlos</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin de Medidas de Seguridad Contra Robo -->

            <!-- Coberturas (Secciones I y II) -->
            <div class="form-section">
                <h2 class="section-title">COBERTURAS</h2>
                <h3 class="section-subtitle">SECCI√ìN I Y II - INCENDIO DEL EDIFICIO Y CONTENIDOS</h3>
                
                <!-- Edificio -->
                <div class="form-subsection">
                    <h4 class="subsection-title">Edificio</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cobertura_basica">Cobertura B√°sica (Incendio y/o Rayo):</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="suma_edificio" name="suma_edificio" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="sublimite_edificio" name="sublimite_edificio" class="form-input" placeholder="Subl√≠mite">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="remocion_edificio">Remoci√≥n de Escombros (Edificio):</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="suma_remocion_edificio" name="suma_remocion_edificio" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="sublimite_remocion_edificio" name="sublimite_remocion_edificio" class="form-input" placeholder="Subl√≠mite">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="edificio_otra">Edificio Otra (Especificar):</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="edificio_otra_especificar" name="edificio_otra_especificar" class="form-input" placeholder="Especificar">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="suma_edificio_otra" name="suma_edificio_otra" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="sublimite_edificio_otra" name="sublimite_edificio_otra" class="form-input" placeholder="Subl√≠mite">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contenidos -->
                <div class="form-subsection">
                    <h4 class="subsection-title">Contenidos</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cobertura_basica_contenidos">Cobertura B√°sica (Incendio y/o Rayo):</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="suma_contenidos" name="suma_contenidos" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="sublimite_contenidos" name="sublimite_contenidos" class="form-input" placeholder="Subl√≠mite">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="remocion_contenidos">Remoci√≥n de Escombros (Contenidos):</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="suma_remocion_contenidos" name="suma_remocion_contenidos" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="sublimite_remocion_contenidos" name="sublimite_remocion_contenidos" class="form-input" placeholder="Subl√≠mite">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="contenidos_otra">Contenidos Otra (Especificar):</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" id="contenidos_otra_especificar" name="contenidos_otra_especificar" class="form-input" placeholder="Especificar">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="suma_contenidos_otra" name="suma_contenidos_otra" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="text" id="sublimite_contenidos_otra" name="sublimite_contenidos_otra" class="form-input" placeholder="Subl√≠mite">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Coberturas Adicionales -->
                <div class="form-subsection">
                    <h4 class="subsection-title">Coberturas Adicionales (Secciones I y II)</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="cobertura_explosion" value="S√≠">
                                Explosi√≥n
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="cobertura_huelgas" value="S√≠">
                                Huelgas y Vandalismo
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="cobertura_terremoto" value="S√≠">
                                Terremoto y E.V.
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="otra_cobertura" class="sr-only">Otra Cobertura</label>
                            <input type="text" id="otra_cobertura" name="otra_cobertura" class="form-input" placeholder="Otra Cobertura (Especificar)">
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="ajuste_inflacionario" value="S√≠">
                                Ajuste Inflacionario
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin de Coberturas (Secciones I y II) -->

            <!-- Bienes por Convenio Expreso -->
            <div class="form-section">
                <h2 class="section-title">BIENES POR CONVENIO EXPRESO</h2>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="descripcion_bienes">Descripci√≥n de Bienes por Convenio:</label>
                        <textarea id="descripcion_bienes" name="descripcion_bienes" class="form-input" rows="3" placeholder="Describa los bienes cubiertos por convenio expreso"></textarea>
                    </div>
                </div>

                <div class="form-subsection">
                    <h4 class="subsection-title">Cl√°usulas Adicionales</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="valor_reposicion" value="S√≠">
                                Valor de Reposici√≥n
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="precio_neto_venta" value="S√≠">
                                Precio Neto de Venta
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="venta_salvamentos" value="S√≠">
                                Venta de Salvamentos
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="errores_avaluos" value="S√≠">
                                Errores en Aval√∫os
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="gravamenes" value="S√≠">
                                Gravamenes
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="libros_registros" value="S√≠">
                                Libros y Registros
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="autorizacion_reponer" value="S√≠">
                                Autorizaci√≥n para Reponer, Reconstruir o Reparar
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="honorarios_profesionistas" value="S√≠">
                                Honorarios a Profesionistas
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="renuncia_inventarios" value="S√≠">
                                Renuncia de Inventarios al 10%
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="cincuenta_metros" value="S√≠">
                                Cincuenta Metros
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="no_subrogacion" value="S√≠">
                                No Subrogaci√≥n
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="planos_moldes" value="S√≠">
                                Planos, Moldes y Modelos
                            </label>
                        </div>
                        <div class="form-group" style="flex: 2;">
                            <input type="text" id="otra_clausula" name="otra_clausula" class="form-input" placeholder="Otra (Describir)">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin de Bienes por Convenio Expreso -->

            <!-- P√©rdida Consecuencial (Secci√≥n III) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN III - P√âRDIDA CONSECUENCIAL</h2>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">P√©rdida Consecuencial</h4>
                    
                    <!-- Gastos Extraordinarios -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="gastos_extraordinarios" value="S√≠">
                                Gastos Extraordinarios
                            </label>
                            <div class="form-row" style="margin-top: 0.5rem;">
                                <div class="form-group">
                                    <input type="text" id="suma_gastos_extra" name="suma_gastos_extra" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="number" id="meses_gastos_extra" name="meses_gastos_extra" class="form-input" placeholder="Meses" min="1" max="12">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- P√©rdida de Utilidades -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="perdida_utilidades" value="S√≠">
                                P√©rdida de Utilidades
                            </label>
                            <div class="form-row" style="margin-top: 0.5rem;">
                                <div class="form-group">
                                    <input type="text" id="suma_perdida_util" name="suma_perdida_util" class="form-input" placeholder="Suma Asegurada">
                                </div>
                                <div class="form-group">
                                    <input type="number" id="meses_perdida_util" name="meses_perdida_util" class="form-input" placeholder="Meses" min="1" max="12">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Otras p√©rdidas consecuenciales -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="perdida_salarios" value="S√≠">
                                P√©rdida de Salarios
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="perdida_gastos_fijos" value="S√≠">
                                P√©rdida de Gastos Fijos
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="perdida_salarios_gastos" value="S√≠">
                                P√©rdida de Salarios y Gastos Fijos
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="perdida_uts_salarios" value="S√≠">
                                P√©rdida de UTS, Salarios y Gastos Fijos
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="perdida_rentas" value="S√≠">
                                P√©rdida de Rentas
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="seguro_contingente" value="S√≠">
                                Seguro Contingente
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="interdependencia" value="S√≠">
                                Interdependencia
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-subsection">
                    <h4 class="subsection-title">P√©rdida Consecuencial General</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="suma_perdida_general" name="suma_perdida_general" class="form-input" placeholder="Suma Asegurada">
                        </div>
                        <div class="form-group">
                            <input type="number" id="porcentaje_perdida" name="porcentaje_perdida" class="form-input" placeholder="% Porc." min="0" max="100">
                        </div>
                    </div>
                    <p class="form-note">Las sumas aseguradas deben corresponder a los importes anuales (0 al 100%) y los meses y porcentajes corresponden al per√≠odo deseado de cobertura.</p>
                </div>
            </div>
            <!-- Fin de P√©rdida Consecuencial (Secci√≥n III) -->

            <!-- Responsabilidad Civil (Secci√≥n IV) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN IV - RESPONSABILIDAD CIVIL</h2>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">Cobertura B√°sica RC Actividades e Inmuebles</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="suma_rc_actividades" name="suma_rc_actividades" class="form-input" placeholder="Suma Asegurada">
                        </div>
                        <div class="form-group">
                            <input type="text" id="sublimite_rc_actividades" name="sublimite_rc_actividades" class="form-input" placeholder="Subl√≠mite">
                        </div>
                    </div>
                </div>

                <div class="form-subsection">
                    <h4 class="subsection-title">Coberturas Adicionales</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rc_arrendatario" value="S√≠">
                                Arrendatario
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rc_carga_descarga" value="S√≠">
                                Carga y Descarga
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rc_asumida" value="S√≠">
                                Asumida (Caso por Caso)
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rc_contratistas" value="S√≠">
                                Contratistas Independientes (Caso por Caso)
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rc_contaminacion" value="S√≠">
                                Contaminaci√≥n S√∫bita e Imprevista
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rc_productos_mexico" value="S√≠">
                                Productos en M√©xico
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="rc_trabajos_terminados" value="S√≠">
                                Trabajos Terminados en M√©xico
                            </label>
                        </div>
                        <div class="form-group" style="flex: 2;">
                            <input type="text" id="otra_rc" name="otra_rc" class="form-input" placeholder="Otra (Especificar)">
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="luc_dos_ubicaciones_rc" value="S√≠">
                            L.U.C. para dos o m√°s ubicaciones
                        </label>
                    </div>
                </div>
            </div>
            <!-- Fin de Responsabilidad Civil (Secci√≥n IV) -->

            <!-- Estacionamiento y Rotura de Cristales -->
            <div class="form-section">
                <h2 class="section-title">ESTACIONAMIENTO Y ROTURA DE CRISTALES</h2>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">Estacionamiento</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="estacionamiento_cacom" value="S√≠">
                                C/ACOM. (Con Acceso Controlado)
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="estacionamiento_sacom" value="S√≠">
                                S/ACOM. (Sin Acceso Controlado)
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="estacionamiento_taller" value="S√≠">
                                Taller
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="no_cajones">No. Cajones (Estacionamiento / Taller):</label>
                            <input type="number" id="no_cajones" name="no_cajones" class="form-input" min="0">
                        </div>
                    </div>
                </div>

                <div class="form-subsection">
                    <h4 class="subsection-title">Guardarropa, Lavado y Planchado, Equipaje y Efectos de Hu√©spedes</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="sub_habitacion_prenda" name="sub_habitacion_prenda" class="form-input" placeholder="Sub. Habit./Prenda">
                        </div>
                        <div class="form-group">
                            <input type="text" id="sub_agreg_anual" name="sub_agreg_anual" class="form-input" placeholder="Sub. Agreg. Anual">
                        </div>
                    </div>
                </div>

                <div class="form-subsection">
                    <h4 class="subsection-title">Rotura de Cristales</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="suma_asegurada_cristales" name="suma_asegurada_cristales" class="form-input" placeholder="Suma Asegurada">
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="luc_dos_ubicaciones_cristales" value="S√≠">
                            L.U.C. para dos o m√°s ubicaciones
                        </label>
                    </div>
                </div>

                <div class="form-subsection">
                    <h4 class="subsection-title">Coberturas Adicionales</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="actos_vandalicos" value="S√≠">
                                Actos Vandalicos
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="remocion" value="S√≠">
                                Remoci√≥n
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="decorado" value="S√≠">
                                Decorado
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="reparaciones" value="S√≠">
                                Reparaciones
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="alteraciones" value="S√≠">
                                Alteraciones
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="mejoras" value="S√≠">
                                Mejoras
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="pintura" value="S√≠">
                                Pintura
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="espejos" value="S√≠">
                                Espejos
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="cubiertas" value="S√≠">
                                Cubiertas
                            </label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="lunas" value="S√≠">
                                Lunas
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="domos" value="S√≠">
                                Domos
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="tragaluces" value="S√≠">
                                Tragaluces
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin de Estacionamiento y Rotura de Cristales -->

            <!-- Anuncios Luminosos (Secci√≥n VI) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN VI - ANUNCIOS LUMINOSOS</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="luc_dos_ubicaciones_anuncios" value="S√≠">
                            L.U.C. para dos o m√°s ubicaciones
                        </label>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="info_anuncios">Informaci√≥n Adicional:</label>
                        <textarea id="info_anuncios" name="info_anuncios" class="form-input" rows="3" placeholder="Ingrese informaci√≥n adicional relacionada con los anuncios luminosos"></textarea>
                    </div>
                </div>
            </div>
            <!-- Fin de Anuncios Luminosos (Secci√≥n VI) -->

            <!-- Robo con Violencia y/o Asalto (Secci√≥n VII) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN VII - ROBO CON VIOLENCIA Y/O ASALTO</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="suma_asegurada_robo">Suma Asegurada:</label>
                        <input type="text" id="suma_asegurada_robo" name="suma_asegurada_robo" class="form-input" placeholder="Ingrese el monto asegurado">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="luc_dos_ubicaciones_robo" value="S√≠">
                            L.U.C. para dos o m√°s ubicaciones
                        </label>
                    </div>
                </div>
                
                <p class="form-note">En caso de varias ubicaciones, se debe anexar la relaci√≥n por separado.</p>
            </div>
            <!-- Fin de Robo con Violencia y/o Asalto (Secci√≥n VII) -->

            <!-- Dinero y Valores (Secci√≥n VIII) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN VIII - DINERO Y VALORES</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="suma_asegurada_dinero">Suma Asegurada:</label>
                        <input type="text" id="suma_asegurada_dinero" name="suma_asegurada_dinero" class="form-input" placeholder="Ingrese el monto asegurado">
                    </div>
                </div>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">Subl√≠mites</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="dentro_sublimite" name="dentro_sublimite" class="form-input" placeholder="Dentro Subl√≠mite">
                        </div>
                        <div class="form-group">
                            <input type="text" id="fuera_sublimite" name="fuera_sublimite" class="form-input" placeholder="Fuera Subl√≠mite">
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="especificar_dinero">Especificar:</label>
                        <input type="text" id="especificar_dinero" name="especificar_dinero" class="form-input" placeholder="Especifique detalles adicionales">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="luc_dos_ubicaciones_dinero" value="S√≠">
                            L.U.C. para dos o m√°s ubicaciones
                        </label>
                    </div>
                </div>
                
                <p class="form-note">En caso de varias ubicaciones, se debe anexar la relaci√≥n por separado.</p>
            </div>
            <!-- Fin de Dinero y Valores (Secci√≥n VIII) -->

            <!-- Rotura de Maquinaria (Secci√≥n IX) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN IX - ROTURA DE MAQUINARIA</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="suma_asegurada_maquinaria">Suma Asegurada:</label>
                        <input type="text" id="suma_asegurada_maquinaria" name="suma_asegurada_maquinaria" class="form-input" placeholder="Ingrese el monto asegurado">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="coberturas_maquinaria">Coberturas Adicionales (Especificar):</label>
                        <input type="text" id="coberturas_maquinaria" name="coberturas_maquinaria" class="form-input" placeholder="Especifique coberturas adicionales">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="antiguedad_maquinaria">Antig√ºedad de la Maquinaria:</label>
                        <input type="text" id="antiguedad_maquinaria" name="antiguedad_maquinaria" class="form-input" placeholder="Ingrese la antig√ºedad">
                    </div>
                </div>
                
                <p class="form-note">En caso de varias ubicaciones, se debe anexar la relaci√≥n por separado. Incluya una relaci√≥n detallada de los equipos con valor, marca, tipo, a√±o de fabricaci√≥n y n√∫mero de serie.</p>
            </div>
            <!-- Fin de Rotura de Maquinaria (Secci√≥n IX) -->

            <!-- Calderas y Equipos Sujetos a Presi√≥n (Secci√≥n X) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN X - CALDERAS Y EQUIPOS SUJETOS A PRESI√ìN</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="suma_asegurada_calderas">Suma Asegurada:</label>
                        <input type="text" id="suma_asegurada_calderas" name="suma_asegurada_calderas" class="form-input" placeholder="Ingrese el monto asegurado">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="coberturas_calderas">Coberturas Adicionales (Especificar):</label>
                        <input type="text" id="coberturas_calderas" name="coberturas_calderas" class="form-input" placeholder="Especifique coberturas adicionales">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="antiguedad_equipos">Antig√ºedad de los Equipos:</label>
                        <input type="text" id="antiguedad_equipos" name="antiguedad_equipos" class="form-input" placeholder="Ingrese la antig√ºedad">
                    </div>
                </div>
                
                <p class="form-note">En caso de varias ubicaciones, se debe anexar la relaci√≥n por separado. Incluya una relaci√≥n detallada de los equipos con valor, marca, tipo, a√±o de fabricaci√≥n y n√∫mero de serie.</p>
            </div>
            <!-- Fin de Calderas y Equipos Sujetos a Presi√≥n (Secci√≥n X) -->

            <!-- Equipo Electr√≥nico (Secci√≥n XI) -->
            <div class="form-section">
                <h2 class="section-title">SECCI√ìN XI - EQUIPO ELECTR√ìNICO</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="suma_asegurada_equipo">Suma Asegurada:</label>
                        <input type="text" id="suma_asegurada_equipo" name="suma_asegurada_equipo" class="form-input" placeholder="Ingrese el monto asegurado">
                    </div>
                </div>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">Subl√≠mites</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="equipo_fijo" name="equipo_fijo" class="form-input" placeholder="Equipo Fijo Subl√≠mite">
                        </div>
                        <div class="form-group">
                            <input type="text" id="equipo_movil" name="equipo_movil" class="form-input" placeholder="Equipo M√≥vil Subl√≠mite">
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="coberturas_equipo">Coberturas Adicionales (Especificar):</label>
                        <input type="text" id="coberturas_equipo" name="coberturas_equipo" class="form-input" placeholder="Especifique coberturas adicionales">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="antiguedad_equipo">Antig√ºedad de los Equipos:</label>
                        <input type="text" id="antiguedad_equipo" name="antiguedad_equipo" class="form-input" placeholder="Ingrese la antig√ºedad">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="descripcion_equipo">Breve Descripci√≥n del(os) Equipo(s):</label>
                        <textarea id="descripcion_equipo" name="descripcion_equipo" class="form-input" rows="2" placeholder="Describa los equipos"></textarea>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="equipo_administrativo" value="S√≠">
                            El Equipo es para Uso Administrativo?
                        </label>
                    </div>
                </div>
                
                <p class="form-note">En caso de varias ubicaciones, se debe anexar la relaci√≥n por separado. Incluya una relaci√≥n detallada de los equipos con valor, marca, tipo, a√±o de fabricaci√≥n y n√∫mero de serie.</p>
            </div>
            <!-- Fin de Equipo Electr√≥nico (Secci√≥n XI) -->

            <!-- Siniestralidad -->
            <div class="form-section">
                <h2 class="section-title">SINIESTRALIDAD</h2>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">Indicaci√≥n de Siniestralidad de los √∫ltimos 3 a√±os</h4>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="siniestro_fecha_1">Fecha:</label>
                            <input type="date" id="siniestro_fecha_1" name="siniestro_fecha_1" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="siniestro_causa_1">Causa y/o Cobertura Afectada:</label>
                            <input type="text" id="siniestro_causa_1" name="siniestro_causa_1" class="form-input" placeholder="Especifique causa/cobertura">
                        </div>
                        <div class="form-group">
                            <label for="siniestro_monto_1">Monto:</label>
                            <input type="text" id="siniestro_monto_1" name="siniestro_monto_1" class="form-input" placeholder="Monto">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="siniestro_fecha_2">Fecha:</label>
                            <input type="date" id="siniestro_fecha_2" name="siniestro_fecha_2" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="siniestro_causa_2">Causa y/o Cobertura Afectada:</label>
                            <input type="text" id="siniestro_causa_2" name="siniestro_causa_2" class="form-input" placeholder="Especifique causa/cobertura">
                        </div>
                        <div class="form-group">
                            <label for="siniestro_monto_2">Monto:</label>
                            <input type="text" id="siniestro_monto_2" name="siniestro_monto_2" class="form-input" placeholder="Monto">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="siniestro_fecha_3">Fecha:</label>
                            <input type="date" id="siniestro_fecha_3" name="siniestro_fecha_3" class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="siniestro_causa_3">Causa y/o Cobertura Afectada:</label>
                            <input type="text" id="siniestro_causa_3" name="siniestro_causa_3" class="form-input" placeholder="Especifique causa/cobertura">
                        </div>
                        <div class="form-group">
                            <label for="siniestro_monto_3">Monto:</label>
                            <input type="text" id="siniestro_monto_3" name="siniestro_monto_3" class="form-input" placeholder="Monto">
                        </div>
                    </div>
                </div>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">Notas Legales</h4>
                    <p class="form-note">Este documento constituye una solicitud de seguro y no representa garant√≠a alguna de aceptaci√≥n. La aceptaci√≥n de la solicitud no implica autom√°ticamente la emisi√≥n de una p√≥liza de seguro ni un recibo v√°lido.</p>
                </div>
                
                <div class="form-subsection">
                    <h4 class="subsection-title">Firmas</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nombre_asegurado">Nombre del Asegurado:</label>
                            <input type="text" id="nombre_asegurado" name="nombre_asegurado" class="form-input" placeholder="Nombre completo">
                        </div>
                        <div class="form-group">
                            <label for="fecha_firma">Fecha:</label>
                            <input type="date" id="fecha_firma" name="fecha_firma" class="form-input">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="lugar_firma">Lugar:</label>
                            <input type="text" id="lugar_firma" name="lugar_firma" class="form-input" placeholder="Ciudad, Estado">
                        </div>
                        <div class="form-group">
                            <label for="firma_asegurado">Firma del Asegurado:</label>
                            <input type="text" id="firma_asegurado" name="firma_asegurado" class="form-input" placeholder="Firme aqu√≠">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nombre_agente">Nombre del Agente:</label>
                            <input type="text" id="nombre_agente" name="nombre_agente" class="form-input" placeholder="Nombre completo">
                        </div>
                        <div class="form-group">
                            <label for="firma_agente">Firma del Agente:</label>
                            <input type="text" id="firma_agente" name="firma_agente" class="form-input" placeholder="Firme aqu√≠">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fin de Siniestralidad -->
        </div>
    </main>
    
    <footer>
        <p>&copy; {currentYear} ONE COACH DA√ëOS. Todos los derechos reservados.</p>
    </footer>
    

	<script>
		document.addEventListener('DOMContentLoaded', () => {
			// --- Variables Globales ---
			let currentStep = 1;
			const totalSteps = 6;
			const form = document.getElementById('wizard-form');
			const steps = Array.from(document.querySelectorAll('.form-step'));
			const navSteps = Array.from(document.querySelectorAll('.nav-step'));
			const progressFill = document.getElementById('progress-fill');
			const progressPercent = document.getElementById('progress-percent');
			const currentSectionName = document.getElementById('current-section-name');
			const themeToggleButton = document.querySelector('.theme-toggle');
			const themeIcon = document.getElementById('theme-icon');
	
			// --- Navegaci√≥n del Wizard ---
			window.nextStep = function() {
				if (validateStep(currentStep)) {
					if (currentStep < totalSteps) {
						currentStep++;
						goToStep(currentStep);
					}
				}
			}
	
			window.prevStep = function() {
				if (currentStep > 1) {
					currentStep--;
					goToStep(currentStep);
				}
			}
	
			window.goToStep = function(stepNumber) {
				currentStep = stepNumber;
				// Oculta todos los pasos y quita la clase 'active'
				steps.forEach(step => step.classList.remove('active'));
				navSteps.forEach(nav => nav.classList.remove('active'));
	
				// Muestra el paso actual
				document.getElementById(`step-${currentStep}`).classList.add('active');
				const currentNav = document.querySelector(`.nav-step[data-step="${currentStep}"]`);
				currentNav.classList.add('active');
	
				// Marca los pasos anteriores como completados
				navSteps.forEach((nav, index) => {
					if (index < currentStep - 1) {
						nav.classList.add('completed');
					} else {
						nav.classList.remove('completed');
					}
				});
	
				updateProgress();
			}
			
			// --- Validaci√≥n ---
			// --- Reemplaza la funci√≥n validateStep anterior con esta ---

function validateStep(stepNumber) {
    const currentStepElement = steps[stepNumber - 1];
    const fieldsToValidate = currentStepElement.querySelectorAll('input[required], select[required], textarea[required]');
    let isStepValid = true;

    // Primero, limpia todos los indicadores de error del paso actual
    currentStepElement.querySelectorAll('.field-group').forEach(group => {
        group.classList.remove('has-error');
    });

    // Ahora, valida cada campo
    for (const field of fieldsToValidate) {
        // Verifica si el campo (que est√° visible) es inv√°lido
        if (!field.checkValidity()) {
            isStepValid = false;
            // Busca el contenedor padre '.field-group' para aplicarle el estilo
            const fieldGroup = field.closest('.field-group, .option-group');
            if (fieldGroup) {
                fieldGroup.classList.add('has-error')
            }
        }
    }
    
    // Si la validaci√≥n falla, no se avanzar√° de paso.
    return isStepValid;
}
	
			// --- Actualizaci√≥n de Progreso ---
			function updateProgress() {
				const percent = ((currentStep - 1) / (totalSteps - 1)) * 100;
				progressFill.style.width = `${percent}%`;
				progressPercent.textContent = Math.round(percent);
				currentSectionName.textContent = document.querySelector(`.nav-step[data-step="${currentStep}"] .step-title`).textContent;
			}
	
			// --- Toggle para el Tema Oscuro ---
			window.toggleTheme = function() {
				document.body.classList.toggle('dark-theme');
				if (document.body.classList.contains('dark-theme')) {
					themeIcon.textContent = '‚òÄÔ∏è'; // Sol
					localStorage.setItem('theme', 'dark');
				} else {
					themeIcon.textContent = 'üåô'; // Luna
					localStorage.setItem('theme', 'light');
				}
			}
	
			// Cargar tema guardado
			if (localStorage.getItem('theme') === 'dark') {
				document.body.classList.add('dark-theme');
				themeIcon.textContent = '‚òÄÔ∏è';
			}
	
			// --- L√≥gica Adicional ---
			window.toggleRiskAddress = function(checkbox) {
				const riskFields = document.getElementById('risk-address-fields');
				const requiredInputs = riskFields.querySelectorAll('input, select');
				
				if (checkbox.checked) {
					riskFields.style.display = 'none';
					requiredInputs.forEach(input => input.removeAttribute('required'));
				} else {
					riskFields.style.display = 'block';
					requiredInputs.forEach(input => {
						// Solo vuelve a poner 'required' si lo ten√≠a originalmente
						// (En este caso, todos los campos de direcci√≥n lo tienen)
						 input.setAttribute('required', 'required');
					});
				}
			};
	
			// --- Inicializaci√≥n ---
			updateProgress(); // Llama a la funci√≥n al cargar la p√°gina por primera vez
		});
	</script>
    <!-- JavaScript para funcionalidad del wizard -->
    <script>
        let currentStep = 1;
        const totalSteps = 6;
        let completedSteps = new Set();
        
        // Funci√≥n para avanzar al siguiente paso - NUEVA VERSION
        function nextStep() {
            console.log('üöÄ NEXT STEP - Paso actual:', currentStep);
            
            // Validar el paso actual
            const isValid = validateCurrentStep();
            console.log('‚úÖ Validaci√≥n resultado:', isValid);
            
            if (isValid) {
                if (currentStep < totalSteps) {
                    console.log('‚û°Ô∏è Avanzando al paso', currentStep + 1);
                    completedSteps.add(currentStep);
                    currentStep++;
                    updateWizard();
                    updateProgress();
                    showStepTransition();
                    
                    // Scroll suave al inicio del siguiente paso
                    setTimeout(() => {
                        const nextStepElement = document.getElementById(`step-${currentStep}`);
                        if (nextStepElement) {
                            nextStepElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    }, 100);
                } else {
                    console.log('üèÅ Ya est√°s en el √∫ltimo paso');
                    showNotification('¬°Ya est√°s en el √∫ltimo paso!', 'info');
                }
            } else {
                console.log('‚ùå No se puede avanzar - validaci√≥n fall√≥');
            }
        }
        
        // Funci√≥n para retroceder al paso anterior
        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                updateWizard();
                updateProgress();
                showStepTransition();
            }
        }
        
        // Funci√≥n para ir directamente a un paso espec√≠fico
        function goToStep(step) {
            // Solo permitir navegar a pasos completados o el siguiente paso
            if (step <= currentStep || completedSteps.has(step - 1) || step === 1) {
                currentStep = step;
                updateWizard();
                updateProgress();
                showStepTransition();
            } else {
                showNotification('Completa los pasos anteriores para continuar', 'warning');
            }
        }
        
        // Animaci√≥n de transici√≥n entre pasos
        function showStepTransition() {
            const currentStepEl = document.getElementById(`step-${currentStep}`);
            if (currentStepEl) {
                currentStepEl.style.transform = 'translateX(-20px)';
                currentStepEl.style.opacity = '0';
                
                setTimeout(() => {
                    currentStepEl.style.transform = 'translateX(0)';
                    currentStepEl.style.opacity = '1';
                }, 100);
            }
        }
        
        // Actualizar el estado visual del wizard
        function updateWizard() {
            // Ocultar todos los pasos
            document.querySelectorAll('.form-step').forEach(step => {
                step.classList.remove('active');
            });
            
            // Mostrar el paso actual
            const currentStepEl = document.getElementById(`step-${currentStep}`);
            if (currentStepEl) {
                currentStepEl.classList.add('active');
            }
            
            // Actualizar navegaci√≥n superior
            document.querySelectorAll('.nav-step').forEach((navStep, index) => {
                navStep.classList.remove('active', 'completed', 'accessible');
                
                if (index + 1 === currentStep) {
                    navStep.classList.add('active');
                } else if (completedSteps.has(index + 1)) {
                    navStep.classList.add('completed');
                } 
                
                // Marcar pasos accesibles
                if (index + 1 <= currentStep || completedSteps.has(index) || index === 0) {
                    navStep.classList.add('accessible');
                }
            });
        }
        
        // Actualizar barra de progreso
        function updateProgress() {
            const progressPercent = Math.round((currentStep / totalSteps) * 100);
            const progressFill = document.getElementById('progress-fill');
            const progressPercText = document.getElementById('progress-percent');
            const currentSectionName = document.getElementById('current-section-name');
            
            if (progressFill) progressFill.style.width = `${progressPercent}%`;
            if (progressPercText) progressPercText.textContent = progressPercent;
            
            // Actualizar nombre de la secci√≥n actual
            const sectionNames = [
                'Informaci√≥n B√°sica',
                'Ubicaci√≥n de Riesgo', 
                'Caracter√≠sticas',
                'Seguridad',
                'Coberturas',
                'Finalizar'
            ];
            if (currentSectionName) {
                currentSectionName.textContent = sectionNames[currentStep - 1] || 'Completando...';
            }
        }
        
        // VALIDACI√ìN COMPLETAMENTE NUEVA Y SIMPLE
        function validateCurrentStep() {
            console.log('üîç Validando paso:', currentStep);
            
            // Validaci√≥n espec√≠fica para cada paso
            switch(currentStep) {
                case 1:
                    return validateStep1();
                case 2:
                    return validateStep2();
                case 3:
                    return validateStep3();
                case 4:
                    return true; // Paso 4 no tiene campos requeridos
                case 5:
                    return true; // Paso 5 no tiene campos requeridos
                case 6:
                    return validateStep6();
                default:
                    return true;
            }
        }
        
        function validateStep1() {
            console.log('üìù Validando Paso 1: Informaci√≥n B√°sica');
            const requiredFields = [
                { id: 'rfc', name: 'RFC' },
                { id: 'razon-social', name: 'Raz√≥n Social' },
                { id: 'cp', name: 'C√≥digo Postal' },
                { id: 'telefono', name: 'Tel√©fono' },
                { id: 'correo', name: 'Correo Electr√≥nico' }
            ];
            
            return validateFields(requiredFields);
        }
        
        function validateStep2() {
            console.log('üìù Validando Paso 2: Ubicaci√≥n de Riesgo');
            const sameAddress = document.getElementById('same-address');
            
            if (sameAddress && sameAddress.checked) {
                console.log('‚úÖ Misma direcci√≥n seleccionada');
                return true;
            }
            
            const requiredFields = [
                { id: 'cp-riesgo', name: 'C√≥digo Postal de Riesgo' },
                { id: 'calle-riesgo', name: 'Calle de Riesgo' },
                { id: 'numero-riesgo', name: 'N√∫mero de Riesgo' }
            ];
            
            return validateFields(requiredFields);
        }
        
        function validateStep3() {
            console.log('üìù Validando Paso 3: Caracter√≠sticas');
            const requiredFields = [
                { id: 'anio-construccion', name: 'A√±o de Construcci√≥n' },
                { id: 'uso-inmueble', name: 'Uso del Inmueble' }
            ];
            
            // Validar campos b√°sicos
            const basicValid = validateFields(requiredFields);
            
            // Validar tipo de construcci√≥n (radio buttons)
            const tipoConstructionSelected = document.querySelector('input[name="tipo_construccion"]:checked');
            if (!tipoConstructionSelected) {
                showNotification('‚ö†Ô∏è Por favor selecciona el tipo de construcci√≥n', 'warning');
                return false;
            }
            
            return basicValid;
        }
        
        function validateStep6() {
            console.log('üìù Validando Paso 6: Finalizar');
            const requiredFields = [
                { id: 'nombre_asegurado', name: 'Nombre del Asegurado' }
            ];
            
            return validateFields(requiredFields);
        }
        
        interface FieldConfig {
            id: string;
            name: string;
        }
        
        function validateFields(fields: FieldConfig[]) {
            let isValid = true;
            let firstInvalidField = null;
            const currentStepEl = document.getElementById(`step-${currentStep}`);
            
            // Primero, limpia todos los errores previos
            fields.forEach(fieldConfig => {
                // Buscar el campo dentro del paso actual para evitar IDs duplicados
                const field = currentStepEl?.querySelector(`[id='${fieldConfig.id}']`) as HTMLInputElement | null
                    || document.getElementById(fieldConfig.id) as HTMLInputElement | null;
                if (field) {
                    const fieldGroup = field.closest('.field-group');
                    if (fieldGroup) {
                        fieldGroup.classList.remove('has-error');
                    }
                }
            });
            
            // Luego valida los campos
            fields.forEach(fieldConfig => {
                // Buscar el campo dentro del paso actual para evitar IDs duplicados
                const field = currentStepEl?.querySelector(`[id='${fieldConfig.id}']`) as HTMLInputElement | null
                    || document.getElementById(fieldConfig.id) as HTMLInputElement | null;
                if (!field) {
                    console.log(`‚ùå Campo no encontrado: ${fieldConfig.id}`);
                    return;
                }
                
                const value = field.value ? field.value.trim() : '';
                console.log(`üîç ${fieldConfig.name}: "${value}"`);
                
                if (!value) {
                    console.log(`‚ùå Campo vac√≠o: ${fieldConfig.name}`);
                    const fieldGroup = field.closest('.field-group') || field.parentElement;
                    if (fieldGroup) {
                        fieldGroup.classList.add('has-error');
                    } else {
                        // Si no encuentra un field-group, aplica estilos directamente
                        field.style.borderColor = '#ef4444';
                        field.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.2)';
                    }
                    
                    if (!firstInvalidField) firstInvalidField = field;
                    isValid = false;
                    
                    // Mostrar notificaci√≥n del primer campo inv√°lido
                    if (firstInvalidField === field) {
                        showNotification(`Por favor completa el campo: ${fieldConfig.name}`, 'error');
                    }
                } else {
                    console.log(`‚úÖ Campo v√°lido: ${fieldConfig.name}`);
                    const fieldGroup = field.closest('.field-group') || field.parentElement;
                    if (fieldGroup) {
                        fieldGroup.classList.remove('has-error');
                    }
                    field.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.2)';
                }
            });
            
            if (!isValid) {
                showNotification('‚ö†Ô∏è Por favor completa todos los campos requeridos', 'warning');
                if (firstInvalidField) {
                    firstInvalidField.focus();
                    firstInvalidField.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            } else {
                showNotification('‚úÖ Secci√≥n completada correctamente', 'success');
            }
            
            console.log(`üìä Resultado validaci√≥n: ${isValid}`);
            return isValid;
        }

        // Helper para obtener el valor visible/activo cuando hay duplicados
        function getActiveValueBy({ id, name }: { id?: string; name?: string; }): string {
            // 1) Intentar dentro del paso activo
            const activeStep = document.querySelector('.form-step.active') as HTMLElement | null;
            if (activeStep) {
                if (id) {
                    const el = activeStep.querySelector(`#${id}`) as HTMLInputElement | HTMLSelectElement | null;
                    if (el && (el as any).value) return (el as any).value;
                }
                if (name) {
                    const els = Array.from(activeStep.querySelectorAll(`[name='${name}']`)) as (HTMLInputElement | HTMLSelectElement)[];
                    for (const el of els) {
                        if (el && el.value) return el.value;
                    }
                }
            }
            // 2) Elemento visible en el documento
            if (name) {
                const all = Array.from(document.querySelectorAll(`[name='${name}']`)) as (HTMLInputElement | HTMLSelectElement)[];
                for (const el of all) {
                    if ((el as any).offsetParent !== null && el.value) return el.value;
                }
                // √∫ltimo no vac√≠o
                for (const el of all.reverse()) {
                    if (el.value) return el.value;
                }
            }
            if (id) {
                const el = document.getElementById(id) as HTMLInputElement | HTMLSelectElement | null;
                if (el && el.value) return el.value;
            }
            return '';
        }
        
        // Funci√≥n para manejar clicks en checkboxes y opciones
        function toggleOption(element, inputId) {
            const input = document.getElementById(inputId);
            if (input) {
                if (input.type === 'checkbox') {
                    input.checked = !input.checked;
                    element.classList.toggle('checked', input.checked);
                    
                    // Efectos visuales
                    if (input.checked) {
                        element.style.transform = 'scale(1.02)';
                        setTimeout(() => element.style.transform = 'scale(1)', 150);
                    }
                }
            }
        }
        
        // Funci√≥n para manejar radio buttons
        function selectRadio(element, name, value) {
            // Desmarcar todos los elementos del mismo grupo
            document.querySelectorAll(`input[name="${name}"]`).forEach(radio => {
                const parent = radio.closest('.option-item');
                if (parent) {
                    parent.classList.remove('checked');
                }
                radio.checked = false;
            });
            
            // Marcar el elemento seleccionado
            const input = element.querySelector('input');
            if (input) {
                input.checked = true;
                input.value = value;
                element.classList.add('checked');
                
                // Efecto visual
                element.style.transform = 'scale(1.02)';
                setTimeout(() => element.style.transform = 'scale(1)', 150);
            }
        }
        
        // Autocompletar direcci√≥n basado en c√≥digo postal MEJORADO
        function setupPostalCodeAutocomplete() {
            const cpInput = document.getElementById('cp');
            const estadoSelect = document.getElementById('estado');
            const cpRiesgoInput = document.getElementById('cp-riesgo');
            
            // Base de datos de c√≥digos postales mexicanos - EXTENDIDA Y MEJORADA
            const postalData = {
                // Ciudad de M√©xico - Ampliado
                '01000': { estado: 'Ciudad de M√©xico', municipio: '√Ålvaro Obreg√≥n', colonia: 'San √Ångel' },
                '01010': { estado: 'Ciudad de M√©xico', municipio: '√Ålvaro Obreg√≥n', colonia: 'San √Ångel Inn' },
                '01020': { estado: 'Ciudad de M√©xico', municipio: '√Ålvaro Obreg√≥n', colonia: 'San √Ångel Sur' },
                '06700': { estado: 'Ciudad de M√©xico', municipio: 'Cuauht√©moc', colonia: 'Roma Norte' },
                '06760': { estado: 'Ciudad de M√©xico', municipio: 'Cuauht√©moc', colonia: 'Roma Sur' },
                '06100': { estado: 'Ciudad de M√©xico', municipio: 'Cuauht√©moc', colonia: 'Centro Hist√≥rico' },
                '11000': { estado: 'Ciudad de M√©xico', municipio: 'Miguel Hidalgo', colonia: 'Escand√≥n' },
                '11550': { estado: 'Ciudad de M√©xico', municipio: 'Miguel Hidalgo', colonia: 'Polanco' },
                '11580': { estado: 'Ciudad de M√©xico', municipio: 'Miguel Hidalgo', colonia: 'Polanco Chapultepec' },
                '03100': { estado: 'Ciudad de M√©xico', municipio: 'Benito Ju√°rez', colonia: 'Del Valle Centro' },
                '03810': { estado: 'Ciudad de M√©xico', municipio: 'Benito Ju√°rez', colonia: 'N√°poles' },
                '03900': { estado: 'Ciudad de M√©xico', municipio: 'Benito Ju√°rez', colonia: 'Del Valle Norte' },
                '07300': { estado: 'Ciudad de M√©xico', municipio: 'Gustavo A. Madero', colonia: 'Lindavista Norte' },
                '04100': { estado: 'Ciudad de M√©xico', municipio: 'Coyoac√°n', colonia: 'Del Carmen' },
                '04310': { estado: 'Ciudad de M√©xico', municipio: 'Coyoac√°n', colonia: 'Copilco Universidad' },
                
                // Jalisco - Ampliado
                '44100': { estado: 'Jalisco', municipio: 'Guadalajara', colonia: 'Centro' },
                '44630': { estado: 'Jalisco', municipio: 'Guadalajara', colonia: 'Jardines del Bosque' },
                '44650': { estado: 'Jalisco', municipio: 'Guadalajara', colonia: 'Providencia' },
                '44160': { estado: 'Jalisco', municipio: 'Guadalajara', colonia: 'Lafayette' },
                '44280': { estado: 'Jalisco', municipio: 'Guadalajara', colonia: 'Americana' },
                '45019': { estado: 'Jalisco', municipio: 'Zapopan', colonia: 'El Baj√≠o' },
                '45070': { estado: 'Jalisco', municipio: 'Zapopan', colonia: 'Arcos Vallarta' },
                '45116': { estado: 'Jalisco', municipio: 'Zapopan', colonia: 'Colinas de San Javier' },
                '45050': { estado: 'Jalisco', municipio: 'Zapopan', colonia: 'Ciudad del Sol' },
                '45200': { estado: 'Jalisco', municipio: 'Zapopan', colonia: 'Tesist√°n' },
                
                // Nuevo Le√≥n - Ampliado
                '64000': { estado: 'Nuevo Le√≥n', municipio: 'Monterrey', colonia: 'Centro' },
                '64720': { estado: 'Nuevo Le√≥n', municipio: 'Monterrey', colonia: 'Cumbres' },
                '64710': { estado: 'Nuevo Le√≥n', municipio: 'Monterrey', colonia: 'Valle Oriente' },
                '66220': { estado: 'Nuevo Le√≥n', municipio: 'San Pedro Garza Garc√≠a', colonia: 'Del Valle' },
                '66260': { estado: 'Nuevo Le√≥n', municipio: 'San Pedro Garza Garc√≠a', colonia: 'San Pedro Centro' },
                '66230': { estado: 'Nuevo Le√≥n', municipio: 'San Pedro Garza Garc√≠a', colonia: 'Colinas de San Jer√≥nimo' },
                '64700': { estado: 'Nuevo Le√≥n', municipio: 'Monterrey', colonia: 'Residencial San Agust√≠n' },
                '67100': { estado: 'Nuevo Le√≥n', municipio: 'Guadalupe', colonia: 'Centro' },
                '66600': { estado: 'Nuevo Le√≥n', municipio: 'Apodaca', colonia: 'Centro' },
                
                // Sinaloa - AMPLIAMENTE EXTENDIDO (tu zona)
                '80000': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Centro' },
                '80020': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Las Quintas' },
                '80030': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Chapultepec' },
                '80040': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Recursos Hidr√°ulicos' },
                '80050': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Guadalupe' },
                '80060': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Tierra Blanca' },
                '80070': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Jorge Almada' },
                '80100': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Tres R√≠os' },
                '80110': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Las Flores' },
                '80120': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Libertad' },
                '80130': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Stase' },
                '80140': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Constituci√≥n' },
                '80150': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Lomas del Boulevard' },
                '80200': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Scally' },
                '80220': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Villa Verde' },
                '80230': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Campi√±a' },
                '80240': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Bonampak' },
                '80250': { estado: 'Sinaloa', municipio: 'Culiac√°n', colonia: 'Los Pinos' },
                '82000': { estado: 'Sinaloa', municipio: 'Mazatl√°n', colonia: 'Centro' },
                '82100': { estado: 'Sinaloa', municipio: 'Mazatl√°n', colonia: 'Olas Altas' },
                '82110': { estado: 'Sinaloa', municipio: 'Mazatl√°n', colonia: 'Zona Dorada' },
                '82120': { estado: 'Sinaloa', municipio: 'Mazatl√°n', colonia: 'Gaviotas Norte' },
                '82130': { estado: 'Sinaloa', municipio: 'Mazatl√°n', colonia: 'Cerritos' },
                '81200': { estado: 'Sinaloa', municipio: 'Ahome', colonia: 'Los Mochis Centro' },
                '81210': { estado: 'Sinaloa', municipio: 'Ahome', colonia: 'Scally' },
                '81220': { estado: 'Sinaloa', municipio: 'Ahome', colonia: 'Guadalupe' },
                '81230': { estado: 'Sinaloa', municipio: 'Ahome', colonia: 'Jiquilpan' },
                '81240': { estado: 'Sinaloa', municipio: 'Ahome', colonia: 'Florida' },
                '81250': { estado: 'Sinaloa', municipio: 'Ahome', colonia: 'Los Algodones' },
                '82300': { estado: 'Sinaloa', municipio: 'Rosario', colonia: 'Centro' },
                '82400': { estado: 'Sinaloa', municipio: 'Escuinapa', colonia: 'Centro' },
                
                // Estado de M√©xico - Ampliado
                '50000': { estado: 'Estado de M√©xico', municipio: 'Toluca', colonia: 'Centro' },
                '50070': { estado: 'Estado de M√©xico', municipio: 'Toluca', colonia: 'Universidad' },
                '50120': { estado: 'Estado de M√©xico', municipio: 'Toluca', colonia: 'Las Americas' },
                '50130': { estado: 'Estado de M√©xico', municipio: 'Toluca', colonia: 'Morelos' },
                '53100': { estado: 'Estado de M√©xico', municipio: 'Naucalpan', colonia: 'Centro' },
                '53950': { estado: 'Estado de M√©xico', municipio: 'Naucalpan', colonia: 'Lomas Verdes' },
                '54000': { estado: 'Estado de M√©xico', municipio: 'Tlalnepantla', colonia: 'Centro' },
                '55700': { estado: 'Estado de M√©xico', municipio: 'Cuautitl√°n Izcalli', colonia: 'Centro Urbano' },
                '52000': { estado: 'Estado de M√©xico', municipio: 'Lerma', colonia: 'Centro' },
                '54700': { estado: 'Estado de M√©xico', municipio: 'Cuautitl√°n', colonia: 'Centro' },
                
                // Otros estados importantes - Ampliado
                '20000': { estado: 'Aguascalientes', municipio: 'Aguascalientes', colonia: 'Centro' },
                '20100': { estado: 'Aguascalientes', municipio: 'Aguascalientes', colonia: 'Zona Centro' },
                '20200': { estado: 'Aguascalientes', municipio: 'Aguascalientes', colonia: 'Las Arboledas' },
                '22000': { estado: 'Baja California', municipio: 'Tijuana', colonia: 'Centro' },
                '22400': { estado: 'Baja California', municipio: 'Tijuana', colonia: 'Zona R√≠o' },
                '22500': { estado: 'Baja California', municipio: 'Tijuana', colonia: 'Las Playas' },
                '21000': { estado: 'Baja California', municipio: 'Mexicali', colonia: 'Centro' },
                '77500': { estado: 'Quintana Roo', municipio: 'Canc√∫n', colonia: 'Centro' },
                '77510': { estado: 'Quintana Roo', municipio: 'Canc√∫n', colonia: 'Zona Hotelera' },
                '77710': { estado: 'Quintana Roo', municipio: 'Playa del Carmen', colonia: 'Centro' },
                '77600': { estado: 'Quintana Roo', municipio: 'Cozumel', colonia: 'Centro' },
                
                // M√°s estados importantes - COMPLETADO
                '44240': { estado: 'Jalisco', municipio: 'Guadalajara', colonia: 'Vallarta Norte' },
                '45030': { estado: 'Jalisco', municipio: 'Zapopan', colonia: 'Vallarta Universidad' },
                
                // Guanajuato completo
                '36000': { estado: 'Guanajuato', municipio: 'Guanajuato', colonia: 'Centro' },
                '36100': { estado: 'Guanajuato', municipio: 'Guanajuato', colonia: 'Valenciana' },
                '37000': { estado: 'Guanajuato', municipio: 'Le√≥n', colonia: 'Centro' },
                '37100': { estado: 'Guanajuato', municipio: 'Le√≥n', colonia: 'San Miguel' },
                '38000': { estado: 'Guanajuato', municipio: 'Celaya', colonia: 'Centro' },
                '36500': { estado: 'Guanajuato', municipio: 'Irapuato', colonia: 'Centro' },
                
                // San Luis Potos√≠ ampliado
                '78000': { estado: 'San Luis Potos√≠', municipio: 'San Luis Potos√≠', colonia: 'Centro' },
                '78200': { estado: 'San Luis Potos√≠', municipio: 'San Luis Potos√≠', colonia: 'Las √Åguilas' },
                '78300': { estado: 'San Luis Potos√≠', municipio: 'San Luis Potos√≠', colonia: 'Lomas' },
                '79000': { estado: 'San Luis Potos√≠', municipio: 'Ciudad Valles', colonia: 'Centro' },
                
                // Chiapas ampliado
                '29000': { estado: 'Chiapas', municipio: 'Tuxtla Guti√©rrez', colonia: 'Centro' },
                '29020': { estado: 'Chiapas', municipio: 'Tuxtla Guti√©rrez', colonia: 'Xamaipak' },
                '29030': { estado: 'Chiapas', municipio: 'Tuxtla Guti√©rrez', colonia: 'Las Granjas' },
                '30700': { estado: 'Chiapas', municipio: 'Tapachula', colonia: 'Centro' },
                '29200': { estado: 'Chiapas', municipio: 'San Crist√≥bal de las Casas', colonia: 'Centro' },
                
                // Morelos ampliado
                '62000': { estado: 'Morelos', municipio: 'Cuernavaca', colonia: 'Centro' },
                '62100': { estado: 'Morelos', municipio: 'Cuernavaca', colonia: 'Carolina' },
                '62200': { estado: 'Morelos', municipio: 'Cuernavaca', colonia: 'Vista Hermosa' },
                '62440': { estado: 'Morelos', municipio: 'Cuernavaca', colonia: 'Lomas de Cort√©s' },
                
                // Veracruz ampliado
                '91000': { estado: 'Veracruz', municipio: 'Xalapa', colonia: 'Centro' },
                '91020': { estado: 'Veracruz', municipio: 'Xalapa', colonia: 'Rafael Lucio' },
                '91700': { estado: 'Veracruz', municipio: 'Veracruz', colonia: 'Centro' },
                '91900': { estado: 'Veracruz', municipio: 'Veracruz', colonia: 'Mocambo' },
                '94100': { estado: 'Veracruz', municipio: 'C√≥rdoba', colonia: 'Centro' },
                '96400': { estado: 'Veracruz', municipio: 'Coatzacoalcos', colonia: 'Centro' },
                
                // Yucat√°n ampliado
                '97000': { estado: 'Yucat√°n', municipio: 'M√©rida', colonia: 'Centro' },
                '97070': { estado: 'Yucat√°n', municipio: 'M√©rida', colonia: 'Garc√≠a Giner√©s' },
                '97100': { estado: 'Yucat√°n', municipio: 'M√©rida', colonia: 'Itzimn√°' },
                '97200': { estado: 'Yucat√°n', municipio: 'M√©rida', colonia: 'M√©xico' },
                '97300': { estado: 'Yucat√°n', municipio: 'M√©rida', colonia: 'Pensiones' },
                
                // Chihuahua ampliado
                '31000': { estado: 'Chihuahua', municipio: 'Chihuahua', colonia: 'Centro' },
                '31100': { estado: 'Chihuahua', municipio: 'Chihuahua', colonia: 'San Felipe' },
                '31200': { estado: 'Chihuahua', municipio: 'Chihuahua', colonia: 'Santo Ni√±o' },
                '32000': { estado: 'Chihuahua', municipio: 'Ciudad Ju√°rez', colonia: 'Centro' },
                '32300': { estado: 'Chihuahua', municipio: 'Ciudad Ju√°rez', colonia: 'Pronaf' },
                '32400': { estado: 'Chihuahua', municipio: 'Ciudad Ju√°rez', colonia: 'Las Torres' },
                
                // Sonora ampliado
                '83000': { estado: 'Sonora', municipio: 'Hermosillo', colonia: 'Centro' },
                '83100': { estado: 'Sonora', municipio: 'Hermosillo', colonia: 'San Benito' },
                '83200': { estado: 'Sonora', municipio: 'Hermosillo', colonia: 'Pitic' },
                '83240': { estado: 'Sonora', municipio: 'Hermosillo', colonia: 'Villa de Seris' },
                '85000': { estado: 'Sonora', municipio: 'Ciudad Obreg√≥n', colonia: 'Centro' },
                
                // Coahuila ampliado
                '25000': { estado: 'Coahuila', municipio: 'Saltillo', colonia: 'Centro' },
                '25100': { estado: 'Coahuila', municipio: 'Saltillo', colonia: 'Rep√∫blica' },
                '25200': { estado: 'Coahuila', municipio: 'Saltillo', colonia: 'Valle del Nazas' },
                '27000': { estado: 'Coahuila', municipio: 'Torre√≥n', colonia: 'Centro' },
                '27010': { estado: 'Coahuila', municipio: 'Torre√≥n', colonia: 'Ampliaci√≥n los √Ångeles' },
                '27100': { estado: 'Coahuila', municipio: 'Torre√≥n', colonia: 'Nueva California' },
                
                // Durango ampliado
                '34000': { estado: 'Durango', municipio: 'Durango', colonia: 'Centro' },
                '34100': { estado: 'Durango', municipio: 'Durango', colonia: 'Tierra y Libertad' },
                '34200': { estado: 'Durango', municipio: 'Durango', colonia: 'Benito Ju√°rez' },
                
                // Tamaulipas ampliado
                '24000': { estado: 'Tamaulipas', municipio: 'Tampico', colonia: 'Centro' },
                '24100': { estado: 'Tamaulipas', municipio: 'Tampico', colonia: 'Vicente Guerrero' },
                '24200': { estado: 'Tamaulipas', municipio: 'Tampico', colonia: 'Morelos' },
                '28000': { estado: 'Tamaulipas', municipio: 'Nuevo Laredo', colonia: 'Centro' },
                '28100': { estado: 'Tamaulipas', municipio: 'Nuevo Laredo', colonia: 'Ju√°rez' },
                '87000': { estado: 'Tamaulipas', municipio: 'Ciudad Victoria', colonia: 'Centro' },
                '89000': { estado: 'Tamaulipas', municipio: 'Reynosa', colonia: 'Centro' },
                '88000': { estado: 'Tamaulipas', municipio: 'Matamoros', colonia: 'Centro' },
                
                // Puebla ampliado
                '72000': { estado: 'Puebla', municipio: 'Puebla', colonia: 'Centro' },
                '72100': { estado: 'Puebla', municipio: 'Puebla', colonia: 'Analco' },
                '72400': { estado: 'Puebla', municipio: 'Puebla', colonia: 'La Paz' },
                '72500': { estado: 'Puebla', municipio: 'Puebla', colonia: 'Cholula' },
                
                // Hidalgo ampliado
                '42000': { estado: 'Hidalgo', municipio: 'Pachuca', colonia: 'Centro' },
                '42080': { estado: 'Hidalgo', municipio: 'Pachuca', colonia: 'Universidad' },
                '42100': { estado: 'Hidalgo', municipio: 'Pachuca', colonia: 'Revoluci√≥n' },
                
                // Michoac√°n ampliado
                '58000': { estado: 'Michoac√°n', municipio: 'Morelia', colonia: 'Centro' },
                '58070': { estado: 'Michoac√°n', municipio: 'Morelia', colonia: 'Chapultepec Norte' },
                '58100': { estado: 'Michoac√°n', municipio: 'Morelia', colonia: 'F√©lix Ireta' },
                '59600': { estado: 'Michoac√°n', municipio: 'Zamora', colonia: 'Centro' },
                '60000': { estado: 'Michoac√°n', municipio: 'Uruapan', colonia: 'Centro' },
                
                // Oaxaca ampliado
                '68000': { estado: 'Oaxaca', municipio: 'Oaxaca', colonia: 'Centro' },
                '68020': { estado: 'Oaxaca', municipio: 'Oaxaca', colonia: 'Jalatlaco' },
                '68100': { estado: 'Oaxaca', municipio: 'Oaxaca', colonia: 'Xochimilco' },
                '68200': { estado: 'Oaxaca', municipio: 'Oaxaca', colonia: 'Reforma' },
                
                // Estados faltantes importantes
                // Tabasco
                '86000': { estado: 'Tabasco', municipio: 'Villahermosa', colonia: 'Centro' },
                '86100': { estado: 'Tabasco', municipio: 'Villahermosa', colonia: 'Atasta de Serra' },
                '86200': { estado: 'Tabasco', municipio: 'Villahermosa', colonia: 'Casa Blanca' },
                
                // Campeche
                '24000': { estado: 'Campeche', municipio: 'Campeche', colonia: 'Centro' },
                '24100': { estado: 'Campeche', municipio: 'Campeche', colonia: 'San Rom√°n' },
                
                // Guerrero
                '39000': { estado: 'Guerrero', municipio: 'Chilpancingo', colonia: 'Centro' },
                '39300': { estado: 'Guerrero', municipio: 'Acapulco', colonia: 'Centro' },
                '39500': { estado: 'Guerrero', municipio: 'Acapulco', colonia: 'Las Playas' },
                
                // Tlaxcala
                '90000': { estado: 'Tlaxcala', municipio: 'Tlaxcala', colonia: 'Centro' },
                '90100': { estado: 'Tlaxcala', municipio: 'Tlaxcala', colonia: 'Ocotl√°n' },
                
                // Nayarit
                '63000': { estado: 'Nayarit', municipio: 'Tepic', colonia: 'Centro' },
                '63100': { estado: 'Nayarit', municipio: 'Tepic', colonia: 'Fray Jun√≠pero Serra' },
                '63732': { estado: 'Nayarit', municipio: 'Bah√≠a de Banderas', colonia: 'Nuevo Vallarta' },
                
                // Colima
                '28000': { estado: 'Colima', municipio: 'Colima', colonia: 'Centro' },
                '28100': { estado: 'Colima', municipio: 'Colima', colonia: 'Centro Norte' },
                '28200': { estado: 'Colima', municipio: 'Manzanillo', colonia: 'Centro' },
                
                // Zacatecas
                '98000': { estado: 'Zacatecas', municipio: 'Zacatecas', colonia: 'Centro' },
                '98100': { estado: 'Zacatecas', municipio: 'Zacatecas', colonia: 'La Ci√©nega' },
                '98600': { estado: 'Zacatecas', municipio: 'Guadalupe', colonia: 'Centro' },
                
                // Quer√©taro
                '76000': { estado: 'Quer√©taro', municipio: 'Quer√©taro', colonia: 'Centro' },
                '76100': { estado: 'Quer√©taro', municipio: 'Quer√©taro', colonia: 'San Sebasti√°n' },
                '76200': { estado: 'Quer√©taro', municipio: 'Quer√©taro', colonia: 'Las Am√©ricas' }
            };
            
            function handlePostalCode(input, isRisk = false) {
                if (!input) return;
                
                input.addEventListener('input', function(e) {
                    let cp = e.target.value.replace(/\D/g, '').substring(0, 5);
                    e.target.value = cp;
                    
                    if (cp.length === 5) {
                        // A√±adir clase de loading
                        e.target.classList.add('loading');
                        
                        setTimeout(() => {
                            e.target.classList.remove('loading');
                            
                            if (postalData[cp]) {
                                const data = postalData[cp];
                                
                                // Actualizar estado solo si es el CP principal
                                if (!isRisk && estadoSelect) {
                                    // Buscar la opci√≥n exacta en el select
                                    const options = estadoSelect.querySelectorAll('option');
                                    let found = false;
                                    options.forEach(option => {
                                        if (option.value === data.estado || option.textContent.includes(data.estado)) {
                                            estadoSelect.value = option.value;
                                            found = true;
                                        }
                                    });
                                    
                                    if (!found) {
                                        // Si no encontramos exacto, crear nueva opci√≥n
                                        const newOption = document.createElement('option');
                                        newOption.value = data.estado;
                                        newOption.textContent = data.estado;
                                        estadoSelect.appendChild(newOption);
                                        estadoSelect.value = data.estado;
                                    }
                                }
                                
                                // Autocompletar campos de ubicaci√≥n si est√°n disponibles
                                if (!isRisk) {
                                    // Campos principales (fiscales)
                                    const municipioInput = document.getElementById('municipio');
                                    const coloniaInput = document.getElementById('colonia');
                                    
                                    if (municipioInput && !municipioInput.value) {
                                        municipioInput.value = data.municipio;
                                        municipioInput.style.borderColor = 'var(--success)';
                                    }
                                    if (coloniaInput && !coloniaInput.value) {
                                        coloniaInput.value = data.colonia;
                                        coloniaInput.style.borderColor = 'var(--success)';
                                    }
                                } else {
                                    // Campos de riesgo
                                    const coloniaRiesgoInput = document.getElementById('colonia-riesgo');
                                    if (coloniaRiesgoInput && !coloniaRiesgoInput.value) {
                                        coloniaRiesgoInput.value = data.colonia;
                                        coloniaRiesgoInput.style.borderColor = 'var(--success)';
                                    }
                                }
                                
                                // Mostrar notificaci√≥n con la informaci√≥n encontrada
                                showNotification(
                                    `üìç ${data.colonia}, ${data.municipio}, ${data.estado}`, 
                                    'success',
                                    4000
                                );
                                
                                // Efecto visual en el campo
                                e.target.style.borderColor = 'var(--success)';
                                e.target.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.2)';
                            } else {
                                showNotification('‚ùå C√≥digo postal no encontrado en la base de datos', 'warning');
                                e.target.style.borderColor = 'var(--warning)';
                            }
                        }, 500);
                    }
                });
            }
            
            // Configurar ambos campos de CP
            handlePostalCode(cpInput, false);
            handlePostalCode(cpRiesgoInput, true);
        }
        
        // Formato de tel√©fono mexicano MEJORADO
        function setupPhoneFormatting() {
            const phoneInputs = document.querySelectorAll('input[type="tel"], #telefono');
            
            phoneInputs.forEach(phoneInput => {
                if (!phoneInput) return;
                
                phoneInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    
                    // Si empieza con 52, lo mantenemos (c√≥digo de pa√≠s)
                    let formatted = '';
                    
                    if (value.length <= 12) {
                        if (value.startsWith('52') && value.length >= 3) {
                            // Formato: (+52) XXX-XXX-XXXX
                            const countryCode = value.substring(0, 2);
                            const areaCode = value.substring(2, 5);
                            const firstPart = value.substring(5, 8);
                            const secondPart = value.substring(8, 12);
                            
                            formatted = `(+${countryCode})`;
                            if (areaCode) formatted += areaCode;
                            if (firstPart) formatted += `-${firstPart}`;
                            if (secondPart) formatted += `-${secondPart}`;
                        } else if (value.length >= 10) {
                            // Formato nacional: (+52) XXX-XXX-XXXX
                            value = '52' + value.substring(0, 10);
                            const areaCode = value.substring(2, 5);
                            const firstPart = value.substring(5, 8);
                            const secondPart = value.substring(8, 12);
                            
                            formatted = `(+52)${areaCode}-${firstPart}-${secondPart}`;
                        } else {
                            // Mostrar formato parcial
                            formatted = value;
                            if (value.length >= 3) {
                                formatted = `(+52)${value}`;
                            }
                        }
                    }
                    
                    e.target.value = formatted;
                    
                    // Validaci√≥n visual
                    if (formatted.match(/^\(\+52\)\d{3}-\d{3}-\d{4}$/)) {
                        e.target.style.borderColor = 'var(--success)';
                        e.target.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.1)';
                    } else if (formatted.length > 5) {
                        e.target.style.borderColor = 'var(--warning)';
                        e.target.style.boxShadow = '0 0 0 3px rgba(245, 158, 11, 0.1)';
                    } else {
                        e.target.style.borderColor = 'var(--border)';
                        e.target.style.boxShadow = 'none';
                    }
                });
                
                // Placeholder mejorado
                phoneInput.placeholder = '(+52)667-236-1545';
            });
        }
        
        // Formato de moneda para campos de suma asegurada
        function setupCurrencyFormatting() {
            const currencyFields = document.querySelectorAll('input[id*="suma_"], input[placeholder*="$"]');
            
            currencyFields.forEach(field => {
                field.addEventListener('blur', function(e) {
                    let value = e.target.value.replace(/[^\d.]/g, '');
                    if (value && !isNaN(value)) {
                        e.target.value = `$${parseFloat(value).toLocaleString('es-MX', {minimumFractionDigits: 2})}`;
                    }
                });
                
                field.addEventListener('focus', function(e) {
                    e.target.value = e.target.value.replace(/[^\d.]/g, '');
                });
            });
        }
        
        // Manejo de drag and drop para archivos
        function dropHandler(ev) {
            ev.preventDefault();
            const fileUpload = ev.currentTarget;
            fileUpload.classList.remove('dragover');
            
            if (ev.dataTransfer.items) {
                const files = Array.from(ev.dataTransfer.files);
                handleFiles(files, fileUpload);
            }
        }
        
        function dragOverHandler(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.add('dragover');
        }
        
        function handleFiles(files, container) {
            const fileList = container.querySelector('.file-list') || createFileList(container);
            
            files.forEach(file => {
                if (file.size <= 10 * 1024 * 1024) { // 10MB limit
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    fileItem.innerHTML = `
                        <span class="file-name">${file.name}</span>
                        <span class="file-size">${formatFileSize(file.size)}</span>
                        <button type="button" class="file-remove" onclick="removeFile(this)">√ó</button>
                    `;
                    fileList.appendChild(fileItem);
                } else {
                    showNotification(`Archivo ${file.name} es muy grande (m√°ximo 10MB)`, 'error');
                }
            });
        }
        
        function createFileList(container) {
            const fileList = document.createElement('div');
            fileList.className = 'file-list';
            container.appendChild(fileList);
            return fileList;
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function removeFile(button) {
            button.parentElement.remove();
        }
        
        // Sistema de notificaciones
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            // Estilos inline para las notificaciones
            Object.assign(notification.style, {
                position: 'fixed',
                top: '20px',
                right: '20px',
                background: type === 'success' ? '#10b981' : 
                           type === 'error' ? '#ef4444' : 
                           type === 'warning' ? '#f59e0b' : '#3b82f6',
                color: 'white',
                padding: '1rem 1.5rem',
                borderRadius: '8px',
                zIndex: '9999',
                minWidth: '300px',
                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',
                transform: 'translateX(400px)',
                transition: 'transform 0.3s ease'
            });
            
            document.body.appendChild(notification);
            
            // Animar entrada
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 10);
            
            // Auto-remove despu√©s de 4 segundos
            setTimeout(() => {
                notification.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, 4000);
        }
        
        // Funci√≥n para enviar el formulario - SIMPLIFICADA Y FUNCIONAL
        async function submitForm() {
            console.log('üöÄ Iniciando env√≠o del formulario...');
            
            // Mostrar indicador de carga
            showNotification('üì§ Enviando solicitud...', 'info');
            
            try {
                // Cargar EmailJS si no est√° disponible
                await loadEmailJSSDK();

                // IDs de EmailJS configurados
                const SERVICE_ID = 'service_6gnqp8y';
                const TEMPLATE_ID = 'template_2yre1uf';

                // Obtener datos del formulario de forma simple
                const form = document.getElementById('wizard-form');
                const formData = new FormData(form);

                // Crear objeto de par√°metros simplificado
                const params = {
                    // Datos Fiscales
                    rfc: formData.get('rfc') || document.getElementById('rfc')?.value || '',
                    razon_social: formData.get('razon_social') || document.getElementById('razon-social')?.value || '',
                    telefono: formData.get('telefono') || document.getElementById('telefono')?.value || '',
                    correo: formData.get('correo') || document.getElementById('correo')?.value || '',

                    // Ubicaci√≥n de Riesgo
                    cp_riesgo: formData.get('cp_riesgo') || document.getElementById('cp-riesgo')?.value || document.getElementById('cp')?.value || '',
                    calle_riesgo: formData.get('calle_riesgo') || document.getElementById('calle-riesgo')?.value || '',
                    numero_riesgo: formData.get('numero_riesgo') || document.getElementById('numero-riesgo')?.value || '',
                    colonia_riesgo: formData.get('colonia_riesgo') || document.getElementById('colonia-riesgo')?.value || '',
                    referencias: formData.get('referencias') || document.getElementById('referencias')?.value || '',

                    // Caracter√≠sticas Constructivas
                    anio_construccion: formData.get('anio_construccion') || document.getElementById('anio-construccion')?.value || '',
                    niveles: formData.get('niveles') || document.getElementById('niveles')?.value || '',
                    uso_inmueble: formData.get('uso_inmueble') || document.getElementById('uso-inmueble')?.value || '',
                    tipo_construccion: formData.get('tipo_construccion') || document.getElementById('tipo-construccion')?.value || '',

                    // Coberturas
                    suma_edificio: formData.get('suma_edificio') || document.getElementById('suma-edificio')?.value || '',
                    suma_contenidos: formData.get('suma_contenidos') || document.getElementById('suma-contenidos')?.value || '',
                    cobertura_extra: 'Formulario enviado desde web',

                    // Datos finales
                    nombre_asegurado: formData.get('nombre_asegurado') || document.getElementById('nombre_asegurado')?.value || '',
                    fecha_firma: formData.get('fecha_firma') || document.getElementById('fecha_firma')?.value || new Date().toISOString().split('T')[0],

                    // Adjuntos
                    documentos_links: 'Formulario web',

                    // A√±o actual
                    year: new Date().getFullYear(),
                };

                console.log('üì® Enviando con EmailJS...', params);
                const result = await (window as any).emailjs.send(SERVICE_ID, TEMPLATE_ID, params);
                console.log('‚úÖ EmailJS resultado:', result);

                // √âxito UI
                showNotification('üéâ ¬°FORMULARIO ENVIADO EXITOSAMENTE!', 'success');
                setTimeout(() => {
                    showNotification('üìß Revisa tu correo en gael.madrid.2009@gmail.com', 'info');
                }, 2000);
                
                const submitButton = document.querySelector('.btn-submit');
                if (submitButton) {
                    submitButton.textContent = '‚úÖ Enviado Exitosamente';
                    submitButton.style.background = '#10b981';
                    submitButton.disabled = true;
                }
                
                if (typeof showSuccessModal === 'function') {
                    showSuccessModal();
                }

            } catch (error) {
                console.error('‚ùå Error al enviar con EmailJS:', error);
                let errorMessage = 'No se pudo enviar el formulario';
                
                if (error && typeof error === 'object') {
                    if ('text' in error) {
                        errorMessage = String(error.text);
                    } else if ('message' in error) {
                        errorMessage = String(error.message);
                    }
                }
                
                showNotification(`‚ùå Error: ${errorMessage}`, 'error');
            }
        }
        
        // Funci√≥n para manejar checkbox "misma direcci√≥n"
        function setupSameAddressToggle() {
            const sameAddressCheckbox = document.getElementById('same-address');
            const riskAddressFields = document.getElementById('risk-address-fields');
            
            if (sameAddressCheckbox && riskAddressFields) {
                sameAddressCheckbox.addEventListener('change', function(e) {
                    if (e.target.checked) {
                        riskAddressFields.style.opacity = '0.5';
                        riskAddressFields.style.pointerEvents = 'none';
                        
                        // Copiar datos de direcci√≥n fiscal
                        const cp = document.getElementById('cp').value;
                        const cpRiesgo = document.getElementById('cp-riesgo');
                        if (cpRiesgo) cpRiesgo.value = cp;
                        
                        showNotification('Los datos de la direcci√≥n fiscal se han copiado', 'info');
                    } else {
                        riskAddressFields.style.opacity = '1';
                        riskAddressFields.style.pointerEvents = 'auto';
                    }
                });
            }
        }
        
        // Inicializar todas las funcionalidades al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedTheme(); // Cargar tema guardado PRIMERO
            updateWizard();
            updateProgress();
            setupPostalCodeAutocomplete();
            setupPhoneFormatting();
            setupCurrencyFormatting();
            setupSameAddressToggle();
            
            // Cargar EmailJS SDK din√°micamente e inicializar con PUBLIC KEY
            (function loadEmailJSSDK() {
                // @ts-ignore - emailjs global
                if (window.emailjs) {
                    try { 
                        // @ts-ignore
                        window.emailjs.init('9uhWKUO7vI9o1xXgK'); 
                    } catch(e) {}
                    return;
                }
                const s = document.createElement('script');
                s.src = 'https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js';
                s.async = true;
                s.onload = function() {
                    try {
                        // @ts-ignore - emailjs global
                        window.emailjs.init('9uhWKUO7vI9o1xXgK'); // Public Key
                        console.log('‚úÖ EmailJS inicializado');
                    } catch (e) {
                        console.error('‚ùå No se pudo inicializar EmailJS:', e);
                    }
                };
                s.onerror = function() {
                    console.error('‚ùå Error al cargar el SDK de EmailJS');
                };
                document.head.appendChild(s);
            })();
            
            // Configurar navegaci√≥n por clicks en los pasos
            document.querySelectorAll('.nav-step').forEach((step, index) => {
                step.addEventListener('click', () => {
                    goToStep(index + 1);
                });
            });
            
            // Configurar file upload click
            document.querySelectorAll('.file-upload').forEach(upload => {
                upload.addEventListener('click', function() {
                    const fileInput = this.querySelector('input[type="file"]');
                    if (fileInput) {
                        fileInput.click();
                    }
                });
            });
            
            // Configurar el input de archivos
            document.querySelectorAll('input[type="file"]').forEach(input => {
                input.addEventListener('change', function(e) {
                    const files = Array.from(e.target.files);
                    const container = e.target.closest('.file-upload');
                    handleFiles(files, container);
                });
            });
            
            // Configurar fecha actual por defecto
            const fechaFirma = document.getElementById('fecha_firma');
            if (fechaFirma) {
                fechaFirma.value = new Date().toISOString().split('T')[0];
            }
            
            // Mostrar mensaje de bienvenida
            setTimeout(() => {
                showNotification('¬°Bienvenido al formulario inteligente! Completa cada secci√≥n paso a paso.', 'info');
            }, 1000);
        });
        
        // Manejo de teclado para navegaci√≥n
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 'ArrowLeft':
                        e.preventDefault();
                        prevStep();
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        nextStep();
                        break;
                }
            }
        });
        
        // Funci√≥n para toggle de tema - MEJORADA
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('theme-icon');
            
            body.classList.toggle('dark-theme');
            
            // Guardar preferencia en localStorage
            const isDarkMode = body.classList.contains('dark-theme');
            localStorage.setItem('darkMode', isDarkMode);
            
            // Actualizar icono con animaci√≥n
            themeIcon.style.transform = 'rotate(180deg)';
            
            setTimeout(() => {
                if (isDarkMode) {
                    themeIcon.textContent = '‚òÄÔ∏è';
                    showNotification('üåô Modo oscuro activado', 'info');
                } else {
                    themeIcon.textContent = 'üåô';
                    showNotification('‚òÄÔ∏è Modo claro activado', 'info');
                }
                themeIcon.style.transform = 'rotate(0deg)';
            }, 150);
        }
        
        // Cargar tema guardado al inicializar
        function loadSavedTheme() {
            const savedTheme = localStorage.getItem('darkMode');
            const themeIcon = document.getElementById('theme-icon');
            
            if (savedTheme === 'true') {
                document.body.classList.add('dark-theme');
                if (themeIcon) themeIcon.textContent = '‚òÄÔ∏è';
            } else {
                if (themeIcon) themeIcon.textContent = 'üåô';
            }
        }
        
        // Funci√≥n para mostrar modal de √©xito
        function showSuccessModal() {
            // Crear modal si no existe
            let modal = document.getElementById('success-modal');
            if (!modal) {
                modal = document.createElement('div');
                modal.id = 'success-modal';
                modal.innerHTML = `
                    <div class="modal-overlay" onclick="closeSuccessModal()">
                        <div class="modal-content" onclick="event.stopPropagation()">
                            <div class="modal-header">
                                <h2>üéâ ¬°Formulario Enviado Exitosamente!</h2>
                            </div>
                            <div class="modal-body">
                                <p><strong>‚úÖ Su solicitud ha sido procesada correctamente</strong></p>
                                <br>
                                <p>üìß <strong>Se ha enviado una copia a:</strong><br>
                                   <code>gael.madrid.2009@gmail.com</code></p>
                                <br>
                                <p>‚è∞ <strong>Tiempo de respuesta:</strong> 24-48 horas h√°biles</p>
                                <p>üì± <strong>Tambi√©n puede contactarnos:</strong> (+52) 667-236-1545</p>
                                <br>
                                <p><em>¬°Gracias por confiar en nuestros servicios!</em></p>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" onclick="closeSuccessModal()">Entendido</button>
                            </div>
                        </div>
                    </div>
                `;
                
                // A√±adir estilos al modal
                const modalStyles = `
                    #success-modal .modal-overlay {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.5);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        z-index: 10000;
                        backdrop-filter: blur(5px);
                        animation: fadeIn 0.3s ease;
                    }
                    
                    #success-modal .modal-content {
                        background: var(--background-card);
                        border-radius: var(--radius-lg);
                        max-width: 500px;
                        width: 90%;
                        box-shadow: var(--shadow-hover);
                        animation: slideInUp 0.4s ease;
                    }
                    
                    #success-modal .modal-header {
                        padding: 2rem 2rem 1rem;
                        text-align: center;
                        border-bottom: 1px solid var(--border);
                    }
                    
                    #success-modal .modal-header h2 {
                        color: var(--success);
                        margin: 0;
                        font-size: 1.5rem;
                    }
                    
                    #success-modal .modal-body {
                        padding: 1.5rem 2rem;
                        line-height: 1.6;
                        color: var(--text);
                    }
                    
                    #success-modal .modal-body code {
                        background: var(--primary-light);
                        padding: 0.25rem 0.5rem;
                        border-radius: 4px;
                        font-family: monospace;
                        color: var(--primary-solid);
                    }
                    
                    #success-modal .modal-footer {
                        padding: 1rem 2rem 2rem;
                        text-align: center;
                    }
                    
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    
                    @keyframes slideInUp {
                        from {
                            opacity: 0;
                            transform: translateY(30px);
                        }
                        to {
                            opacity: 1;
                            transform: translateY(0);
                        }
                    }
                `;
                
                // A√±adir estilos
                const styleSheet = document.createElement('style');
                styleSheet.textContent = modalStyles;
                document.head.appendChild(styleSheet);
                
                document.body.appendChild(modal);
            }
            
            modal.style.display = 'block';
        }
        
        // Funci√≥n para cerrar modal de √©xito
        function closeSuccessModal() {
            const modal = document.getElementById('success-modal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        // Hacer las funciones accesibles globalmente
        window.showSuccessModal = showSuccessModal;
        window.closeSuccessModal = closeSuccessModal;

        // Cargar EmailJS SDK
        function loadEmailJSSDK() {
            return new Promise((resolve, reject) => {
                // Check if already loaded
                if ((window as any).emailjs) {
                    resolve((window as any).emailjs);
                    return;
                }

                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js';
                script.async = true;
                
                script.onload = () => {
                    try {
                        (window as any).emailjs.init('9uhWKUO7vI9o1xXgK');
                        console.log('‚úÖ EmailJS inicializado correctamente');
                        resolve((window as any).emailjs);
                    } catch (error) {
                        console.error('‚ùå Error al inicializar EmailJS:', error);
                        reject(error);
                    }
                };
                
                script.onerror = () => {
                    reject(new Error('No se pudo cargar EmailJS SDK'));
                };
                
                document.head.appendChild(script);
            });
        }

        // Preload EmailJS SDK
        loadEmailJSSDK().catch(error => {
            console.warn('‚ö†Ô∏è EmailJS no se pudo cargar previamente:', error);
        });
    </script>
    
    <!-- Estilos adicionales para notificaciones y archivos -->
    <style>
        .file-list {
            margin-top: 1rem;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 6px;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        
        .file-name {
            flex: 1;
            font-weight: 500;
        }
        
        .file-size {
            color: var(--text-light);
            margin: 0 1rem;
        }
        
        .file-remove {
            background: var(--error);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .file-remove:hover {
            background: #dc2626;
        }
        
        /* Animaciones adicionales */
        .form-step {
            transition: all 0.3s ease;
        }
        
        .nav-step {
            cursor: pointer;
        }
        
        .nav-step:hover:not(.active) {
            background: rgba(59, 130, 246, 0.1);
        }
        
        /* Mejoras visuales para campos inv√°lidos */
        input:invalid {
            border-color: var(--error);
        }
        
        input:valid {
            border-color: var(--success);
        }
        
        /* Responsive improvements */
        @media (max-width: 640px) {
            .notification {
                right: 10px;
                left: 10px;
                min-width: auto;
            }
        }
    </style>
</body>
</html>
